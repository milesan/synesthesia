(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Hp={exports:{}},Qo={},Yp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),R0=Symbol.for("react.portal"),L0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),z0=Symbol.for("react.memo"),W0=Symbol.for("react.lazy"),Bd=Symbol.iterator;function H0(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gp=Object.assign,qp={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Kp}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qp(){}Qp.prototype=Yr.prototype;function Ku(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Kp}var Gu=Ku.prototype=new Qp;Gu.constructor=Ku;Gp(Gu,Yr.prototype);Gu.isPureReactComponent=!0;var Ud=Array.isArray,Xp=Object.prototype.hasOwnProperty,qu={current:null},Jp={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Xp.call(t,r)&&!Jp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ai,type:e,key:i,ref:o,props:s,_owner:qu.current}}function Y0(e,t){return{$$typeof:ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ai}function K0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zd=/\/+/g;function Na(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K0(""+e.key):t.toString(36)}function Zi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ai:case R0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Na(o,0):r,Ud(s)?(n="",e!=null&&(n=e.replace(zd,"$&/")+"/"),Zi(s,t,n,"",function(u){return u})):s!=null&&(Qu(s)&&(s=Y0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ud(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Na(i,a);o+=Zi(i,t,n,l,s)}else if(l=H0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Na(i,a++),o+=Zi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(e,t,n){if(e==null)return e;var r=[],s=0;return Zi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function G0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},eo={transition:null},q0={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:eo,ReactCurrentOwner:qu};function em(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ki,forEach:function(e,t,n){ki(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ki(e,function(){t++}),t},toArray:function(e){return ki(e,function(t){return t})||[]},only:function(e){if(!Qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Yr;B.Fragment=L0;B.Profiler=F0;B.PureComponent=Ku;B.StrictMode=I0;B.Suspense=U0;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q0;B.act=em;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Xp.call(t,l)&&!Jp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ai,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:V0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$0,_context:e},e.Consumer=e};B.createElement=Zp;B.createFactory=function(e){var t=Zp.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:B0,render:e}};B.isValidElement=Qu;B.lazy=function(e){return{$$typeof:W0,_payload:{_status:-1,_result:e},_init:G0}};B.memo=function(e,t){return{$$typeof:z0,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};B.unstable_act=em;B.useCallback=function(e,t){return Le.current.useCallback(e,t)};B.useContext=function(e){return Le.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};B.useEffect=function(e,t){return Le.current.useEffect(e,t)};B.useId=function(){return Le.current.useId()};B.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Le.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};B.useRef=function(e){return Le.current.useRef(e)};B.useState=function(e){return Le.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Le.current.useTransition()};B.version="18.3.1";Yp.exports=B;var b=Yp.exports;const st=M0(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0=b,X0=Symbol.for("react.element"),J0=Symbol.for("react.fragment"),Z0=Object.prototype.hasOwnProperty,ex=Q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tx={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Z0.call(t,r)&&!tx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:X0,type:e,key:i,ref:o,props:s,_owner:ex.current}}Qo.Fragment=J0;Qo.jsx=tm;Qo.jsxs=tm;Hp.exports=Qo;var c=Hp.exports,nm={exports:{}},Je={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,R){var I=k.length;k.push(R);e:for(;0<I;){var X=I-1>>>1,me=k[X];if(0<s(me,R))k[X]=R,k[I]=me,I=X;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],I=k.pop();if(I!==R){k[0]=I;e:for(var X=0,me=k.length,bi=me>>>1;X<bi;){var Pn=2*(X+1)-1,Pa=k[Pn],Nn=Pn+1,Si=k[Nn];if(0>s(Pa,I))Nn<me&&0>s(Si,Pa)?(k[X]=Si,k[Nn]=I,X=Nn):(k[X]=Pa,k[Pn]=I,X=Pn);else if(Nn<me&&0>s(Si,I))k[X]=Si,k[Nn]=I,X=Nn;else break e}}return R}function s(k,R){var I=k.sortIndex-R.sortIndex;return I!==0?I:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=k)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function _(k){if(x=!1,v(k),!y)if(n(l)!==null)y=!0,rr(S);else{var R=n(u);R!==null&&E(_,R.startTime-k)}}function S(k,R){y=!1,x&&(x=!1,g(P),P=-1),p=!0;var I=f;try{for(v(R),h=n(l);h!==null&&(!(h.expirationTime>R)||k&&!V());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var me=X(h.expirationTime<=R);R=e.unstable_now(),typeof me=="function"?h.callback=me:h===n(l)&&r(l),v(R)}else r(l);h=n(l)}if(h!==null)var bi=!0;else{var Pn=n(u);Pn!==null&&E(_,Pn.startTime-R),bi=!1}return bi}finally{h=null,f=I,p=!1}}var j=!1,C=null,P=-1,M=5,T=-1;function V(){return!(e.unstable_now()-T<M)}function W(){if(C!==null){var k=e.unstable_now();T=k;var R=!0;try{R=C(!0,k)}finally{R?pe():(j=!1,C=null)}}else j=!1}var pe;if(typeof m=="function")pe=function(){m(W)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,_i=oe.port2;oe.port1.onmessage=W,pe=function(){_i.postMessage(null)}}else pe=function(){w(W,0)};function rr(k){C=k,j||(j=!0,pe())}function E(k,R){P=w(function(){k(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,rr(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var I=f;f=R;try{return k()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=f;f=k;try{return R()}finally{f=I}},e.unstable_scheduleCallback=function(k,R,I){var X=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=I+me,k={id:d++,callback:R,priorityLevel:k,startTime:I,expirationTime:me,sortIndex:-1},I>X?(k.sortIndex=I,t(u,k),n(l)===null&&k===n(u)&&(x?(g(P),P=-1):x=!0,E(_,I-X))):(k.sortIndex=me,t(l,k),y||p||(y=!0,rr(S))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var R=f;return function(){var I=f;f=R;try{return k.apply(this,arguments)}finally{f=I}}}})(sm);rm.exports=sm;var nx=rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=b,Qe=nx;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var im=new Set,Ls={};function Jn(e,t){Mr(e,t),Mr(e+"Capture",t)}function Mr(e,t){for(Ls[e]=t,e=0;e<t.length;e++)im.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wd={},Hd={};function ix(e){return Pl.call(Hd,e)?!0:Pl.call(Wd,e)?!1:sx.test(e)?Hd[e]=!0:(Wd[e]=!0,!1)}function ox(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ax(e,t,n,r){if(t===null||typeof t>"u"||ox(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);be[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);be[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xu,Ju);be[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zu(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ax(t,n,s,r)&&(n=null),r||s===null?ix(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),ur=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),am=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),nc=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),lm=Symbol.for("react.offscreen"),Yd=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Ta;function ms(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var Ea=!1;function Da(e,t){if(!e||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ms(e):""}function lx(e){switch(e.tag){case 5:return ms(e.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return e=Da(e.type,!1),e;case 11:return e=Da(e.type.render,!1),e;case 1:return e=Da(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case ur:return"Portal";case Nl:return"Profiler";case ec:return"StrictMode";case Tl:return"Suspense";case El:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case am:return(e.displayName||"Context")+".Consumer";case om:return(e._context.displayName||"Context")+".Provider";case tc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nc:return t=e.displayName||null,t!==null?t:Dl(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function ux(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(t);case 8:return t===ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function um(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cx(e){var t=um(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ci(e){e._valueTracker||(e._valueTracker=cx(e))}function cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=um(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Al(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dm(e,t){t=t.checked,t!=null&&Zu(e,"checked",t,!1)}function Ml(e,t){dm(e,t);var n=yn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gs=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(gs(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yn(n)}}function hm(e,t){var n=yn(t.value),r=yn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pi,pm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Is(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dx=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){dx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function mm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function gm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hx=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(hx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,Pr=null,Nr=null;function Xd(e){if(e=ci(e)){if(typeof Vl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ta(t),Vl(e.stateNode,e.type,t))}}function vm(e){Pr?Nr?Nr.push(e):Nr=[e]:Pr=e}function ym(){if(Pr){var e=Pr,t=Nr;if(Nr=Pr=null,Xd(e),t)for(e=0;e<t.length;e++)Xd(t[e])}}function xm(e,t){return e(t)}function wm(){}var Aa=!1;function _m(e,t,n){if(Aa)return e(t,n);Aa=!0;try{return xm(e,t,n)}finally{Aa=!1,(Pr!==null||Nr!==null)&&(wm(),ym())}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Bl=!1;if(Ut)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Bl=!1}function fx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ss=!1,vo=null,yo=!1,Ul=null,px={onError:function(e){Ss=!0,vo=e}};function mx(e,t,n,r,s,i,o,a,l){Ss=!1,vo=null,fx.apply(px,arguments)}function gx(e,t,n,r,s,i,o,a,l){if(mx.apply(this,arguments),Ss){if(Ss){var u=vo;Ss=!1,vo=null}else throw Error(N(198));yo||(yo=!0,Ul=u)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jd(e){if(Zn(e)!==e)throw Error(N(188))}function vx(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jd(s),e;if(i===r)return Jd(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Sm(e){return e=vx(e),e!==null?km(e):null}function km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=km(e);if(t!==null)return t;e=e.sibling}return null}var jm=Qe.unstable_scheduleCallback,Zd=Qe.unstable_cancelCallback,yx=Qe.unstable_shouldYield,xx=Qe.unstable_requestPaint,ue=Qe.unstable_now,wx=Qe.unstable_getCurrentPriorityLevel,sc=Qe.unstable_ImmediatePriority,Cm=Qe.unstable_UserBlockingPriority,xo=Qe.unstable_NormalPriority,_x=Qe.unstable_LowPriority,Pm=Qe.unstable_IdlePriority,Xo=null,Ct=null;function bx(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:jx,Sx=Math.log,kx=Math.LN2;function jx(e){return e>>>=0,e===0?32:31-(Sx(e)/kx|0)|0}var Ni=64,Ti=4194304;function vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vs(a):(i&=o,i!==0&&(r=vs(i)))}else o=n&~s,o!==0?r=vs(o):i!==0&&(r=vs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Cx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nm(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function Ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Nx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function Tm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Em,oc,Dm,Am,Mm,Wl=!1,Ei=[],cn=null,dn=null,hn=null,$s=new Map,Vs=new Map,rn=[],Tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function es(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ci(t),t!==null&&oc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ex(e,t,n,r,s){switch(t){case"focusin":return cn=es(cn,e,t,n,r,s),!0;case"dragenter":return dn=es(dn,e,t,n,r,s),!0;case"mouseover":return hn=es(hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return $s.set(i,es($s.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vs.set(i,es(Vs.get(i)||null,e,t,n,r,s)),!0}return!1}function Om(e){var t=Fn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=bm(n),t!==null){e.blockedOn=t,Mm(e.priority,function(){Dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=ci(n),t!==null&&oc(t),e.blockedOn=n,!1;t.shift()}return!0}function th(e,t,n){to(e)&&n.delete(t)}function Dx(){Wl=!1,cn!==null&&to(cn)&&(cn=null),dn!==null&&to(dn)&&(dn=null),hn!==null&&to(hn)&&(hn=null),$s.forEach(th),Vs.forEach(th)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Wl||(Wl=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Dx)))}function Bs(e){function t(s){return ts(s,e)}if(0<Ei.length){ts(Ei[0],e);for(var n=1;n<Ei.length;n++){var r=Ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&ts(cn,e),dn!==null&&ts(dn,e),hn!==null&&ts(hn,e),$s.forEach(t),Vs.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Om(n),n.blockedOn===null&&rn.shift()}var Tr=Yt.ReactCurrentBatchConfig,_o=!0;function Ax(e,t,n,r){var s=Y,i=Tr.transition;Tr.transition=null;try{Y=1,ac(e,t,n,r)}finally{Y=s,Tr.transition=i}}function Mx(e,t,n,r){var s=Y,i=Tr.transition;Tr.transition=null;try{Y=4,ac(e,t,n,r)}finally{Y=s,Tr.transition=i}}function ac(e,t,n,r){if(_o){var s=Hl(e,t,n,r);if(s===null)za(e,t,r,bo,n),eh(e,r);else if(Ex(s,e,t,n,r))r.stopPropagation();else if(eh(e,r),t&4&&-1<Tx.indexOf(e)){for(;s!==null;){var i=ci(s);if(i!==null&&Em(i),i=Hl(e,t,n,r),i===null&&za(e,t,r,bo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else za(e,t,r,null,n)}}var bo=null;function Hl(e,t,n,r){if(bo=null,e=rc(r),e=Fn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function Rm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wx()){case sc:return 1;case Cm:return 4;case xo:case _x:return 16;case Pm:return 536870912;default:return 16}default:return 16}}var ln=null,lc=null,no=null;function Lm(){if(no)return no;var e,t=lc,n=t.length,r,s="value"in ln?ln.value:ln.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return no=s.slice(e,1<r?1-r:void 0)}function ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function nh(){return!1}function Ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Di:nh,this.isPropagationStopped=nh,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Ze(Kr),ui=se({},Kr,{view:0,detail:0}),Ox=Ze(ui),Oa,Ra,ns,Jo=se({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(Oa=e.screenX-ns.screenX,Ra=e.screenY-ns.screenY):Ra=Oa=0,ns=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),rh=Ze(Jo),Rx=se({},Jo,{dataTransfer:0}),Lx=Ze(Rx),Ix=se({},ui,{relatedTarget:0}),La=Ze(Ix),Fx=se({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=Ze(Fx),Vx=se({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bx=Ze(Vx),Ux=se({},Kr,{data:0}),sh=Ze(Ux),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hx[e])?!!t[e]:!1}function cc(){return Yx}var Kx=se({},ui,{key:function(e){if(e.key){var t=zx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gx=Ze(Kx),qx=se({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=Ze(qx),Qx=se({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Xx=Ze(Qx),Jx=se({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=Ze(Jx),ew=se({},Jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tw=Ze(ew),nw=[9,13,27,32],dc=Ut&&"CompositionEvent"in window,ks=null;Ut&&"documentMode"in document&&(ks=document.documentMode);var rw=Ut&&"TextEvent"in window&&!ks,Im=Ut&&(!dc||ks&&8<ks&&11>=ks),oh=" ",ah=!1;function Fm(e,t){switch(e){case"keyup":return nw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function sw(e,t){switch(e){case"compositionend":return $m(t);case"keypress":return t.which!==32?null:(ah=!0,oh);case"textInput":return e=t.data,e===oh&&ah?null:e;default:return null}}function iw(e,t){if(dr)return e==="compositionend"||!dc&&Fm(e,t)?(e=Lm(),no=lc=ln=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Im&&t.locale!=="ko"?null:t.data;default:return null}}var ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ow[e.type]:t==="textarea"}function Vm(e,t,n,r){vm(r),t=So(t,"onChange"),0<t.length&&(n=new uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var js=null,Us=null;function aw(e){Xm(e,0)}function Zo(e){var t=pr(e);if(cm(t))return e}function lw(e,t){if(e==="change")return t}var Bm=!1;if(Ut){var Ia;if(Ut){var Fa="oninput"in document;if(!Fa){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),Fa=typeof uh.oninput=="function"}Ia=Fa}else Ia=!1;Bm=Ia&&(!document.documentMode||9<document.documentMode)}function ch(){js&&(js.detachEvent("onpropertychange",Um),Us=js=null)}function Um(e){if(e.propertyName==="value"&&Zo(Us)){var t=[];Vm(t,Us,e,rc(e)),_m(aw,t)}}function uw(e,t,n){e==="focusin"?(ch(),js=t,Us=n,js.attachEvent("onpropertychange",Um)):e==="focusout"&&ch()}function cw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Us)}function dw(e,t){if(e==="click")return Zo(t)}function hw(e,t){if(e==="input"||e==="change")return Zo(t)}function fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:fw;function zs(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pl.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hh(e,t){var n=dh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dh(n)}}function zm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wm(){for(var e=window,t=go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=go(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pw(e){var t=Wm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zm(n.ownerDocument.documentElement,n)){if(r!==null&&hc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=hh(n,i);var o=hh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mw=Ut&&"documentMode"in document&&11>=document.documentMode,hr=null,Yl=null,Cs=null,Kl=!1;function fh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kl||hr==null||hr!==go(r)||(r=hr,"selectionStart"in r&&hc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&zs(Cs,r)||(Cs=r,r=So(Yl,"onSelect"),0<r.length&&(t=new uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},$a={},Hm={};Ut&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ea(e){if($a[e])return $a[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hm)return $a[e]=t[n];return e}var Ym=ea("animationend"),Km=ea("animationiteration"),Gm=ea("animationstart"),qm=ea("transitionend"),Qm=new Map,ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Qm.set(e,t),Jn(t,[e])}for(var Va=0;Va<ph.length;Va++){var Ba=ph[Va],gw=Ba.toLowerCase(),vw=Ba[0].toUpperCase()+Ba.slice(1);Sn(gw,"on"+vw)}Sn(Ym,"onAnimationEnd");Sn(Km,"onAnimationIteration");Sn(Gm,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(qm,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function mh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gx(r,t,void 0,e),e.currentTarget=null}function Xm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mh(s,a,u),i=l}}}if(yo)throw e=Ul,yo=!1,Ul=null,e}function J(e,t){var n=t[Jl];n===void 0&&(n=t[Jl]=new Set);var r=e+"__bubble";n.has(r)||(Jm(t,e,2,!1),n.add(r))}function Ua(e,t,n){var r=0;t&&(r|=4),Jm(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Mi]){e[Mi]=!0,im.forEach(function(n){n!=="selectionchange"&&(yw.has(n)||Ua(n,!1,e),Ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,Ua("selectionchange",!1,t))}}function Jm(e,t,n,r){switch(Rm(t)){case 1:var s=Ax;break;case 4:s=Mx;break;default:s=ac}n=s.bind(null,t,n,e),s=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function za(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}_m(function(){var u=i,d=rc(n),h=[];e:{var f=Qm.get(e);if(f!==void 0){var p=uc,y=e;switch(e){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":p=Gx;break;case"focusin":y="focus",p=La;break;case"focusout":y="blur",p=La;break;case"beforeblur":case"afterblur":p=La;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xx;break;case Ym:case Km:case Gm:p=$x;break;case qm:p=Zx;break;case"scroll":p=Ox;break;case"wheel":p=tw;break;case"copy":case"cut":case"paste":p=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ih}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=Fs(m,g),_!=null&&x.push(Hs(m,_,v)))),w)break;m=m.return}0<x.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==$l&&(y=n.relatedTarget||n.fromElement)&&(Fn(y)||y[zt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Fn(y):null,y!==null&&(w=Zn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=rh,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=ih,_="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:pr(p),v=y==null?f:pr(y),f=new x(_,m+"leave",p,n,d),f.target=w,f.relatedTarget=v,_=null,Fn(d)===u&&(x=new x(g,m+"enter",y,n,d),x.target=v,x.relatedTarget=w,_=x),w=_,p&&y)t:{for(x=p,g=y,m=0,v=x;v;v=sr(v))m++;for(v=0,_=g;_;_=sr(_))v++;for(;0<m-v;)x=sr(x),m--;for(;0<v-m;)g=sr(g),v--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=sr(x),g=sr(g)}x=null}else x=null;p!==null&&gh(h,f,p,x,!1),y!==null&&w!==null&&gh(h,w,y,x,!0)}}e:{if(f=u?pr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=lw;else if(lh(f))if(Bm)S=hw;else{S=cw;var j=uw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=dw);if(S&&(S=S(e,u))){Vm(h,S,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(j=u?pr(u):window,e){case"focusin":(lh(j)||j.contentEditable==="true")&&(hr=j,Yl=u,Cs=null);break;case"focusout":Cs=Yl=hr=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,fh(h,n,d);break;case"selectionchange":if(mw)break;case"keydown":case"keyup":fh(h,n,d)}var C;if(dc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else dr?Fm(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Im&&n.locale!=="ko"&&(dr||P!=="onCompositionStart"?P==="onCompositionEnd"&&dr&&(C=Lm()):(ln=d,lc="value"in ln?ln.value:ln.textContent,dr=!0)),j=So(u,P),0<j.length&&(P=new sh(P,e,null,n,d),h.push({event:P,listeners:j}),C?P.data=C:(C=$m(n),C!==null&&(P.data=C)))),(C=rw?sw(e,n):iw(e,n))&&(u=So(u,"onBeforeInput"),0<u.length&&(d=new sh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Xm(h,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function So(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fs(e,n),i!=null&&r.unshift(Hs(e,i,s)),i=Fs(e,t),i!=null&&r.push(Hs(e,i,s))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Fs(n,i),l!=null&&o.unshift(Hs(n,l,a))):s||(l=Fs(n,i),l!=null&&o.push(Hs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xw=/\r\n?/g,ww=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(xw,`
`).replace(ww,"")}function Oi(e,t,n){if(t=vh(t),vh(e)!==t&&n)throw Error(N(425))}function ko(){}var Gl=null,ql=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xl=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(e){return yh.resolve(null).then(e).catch(Sw)}:Xl;function Sw(e){setTimeout(function(){throw e})}function Wa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bs(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),jt="__reactFiber$"+Gr,Ys="__reactProps$"+Gr,zt="__reactContainer$"+Gr,Jl="__reactEvents$"+Gr,kw="__reactListeners$"+Gr,jw="__reactHandles$"+Gr;function Fn(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xh(e);e!==null;){if(n=e[jt])return n;e=xh(e)}return t}e=n,n=e.parentNode}return null}function ci(e){return e=e[jt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ta(e){return e[Ys]||null}var Zl=[],mr=-1;function kn(e){return{current:e}}function Z(e){0>mr||(e.current=Zl[mr],Zl[mr]=null,mr--)}function q(e,t){mr++,Zl[mr]=e.current,e.current=t}var xn={},Ee=kn(xn),Ue=kn(!1),Hn=xn;function Or(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function jo(){Z(Ue),Z(Ee)}function wh(e,t,n){if(Ee.current!==xn)throw Error(N(168));q(Ee,t),q(Ue,n)}function Zm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,ux(e)||"Unknown",s));return se({},n,r)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Hn=Ee.current,q(Ee,e),q(Ue,Ue.current),!0}function _h(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Zm(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,Z(Ue),Z(Ee),q(Ee,e)):Z(Ue),q(Ue,n)}var Mt=null,na=!1,Ha=!1;function eg(e){Mt===null?Mt=[e]:Mt.push(e)}function Cw(e){na=!0,eg(e)}function jn(){if(!Ha&&Mt!==null){Ha=!0;var e=0,t=Y;try{var n=Mt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,na=!1}catch(s){throw Mt!==null&&(Mt=Mt.slice(e+1)),jm(sc,jn),s}finally{Y=t,Ha=!1}}return null}var gr=[],vr=0,Po=null,No=0,nt=[],rt=0,Yn=null,Ot=1,Rt="";function Dn(e,t){gr[vr++]=No,gr[vr++]=Po,Po=e,No=t}function tg(e,t,n){nt[rt++]=Ot,nt[rt++]=Rt,nt[rt++]=Yn,Yn=e;var r=Ot;e=Rt;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var i=32-vt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ot=1<<32-vt(t)+s|n<<s|r,Rt=i+e}else Ot=1<<i|n<<s|r,Rt=e}function fc(e){e.return!==null&&(Dn(e,1),tg(e,1,0))}function pc(e){for(;e===Po;)Po=gr[--vr],gr[vr]=null,No=gr[--vr],gr[vr]=null;for(;e===Yn;)Yn=nt[--rt],nt[rt]=null,Rt=nt[--rt],nt[rt]=null,Ot=nt[--rt],nt[rt]=null}var Ge=null,Ke=null,ee=!1,mt=null;function ng(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:Ot,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,Ke=null,!0):!1;default:return!1}}function eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tu(e){if(ee){var t=Ke;if(t){var n=t;if(!bh(e,t)){if(eu(e))throw Error(N(418));t=fn(n.nextSibling);var r=Ge;t&&bh(e,t)?ng(r,n):(e.flags=e.flags&-4097|2,ee=!1,Ge=e)}}else{if(eu(e))throw Error(N(418));e.flags=e.flags&-4097|2,ee=!1,Ge=e}}}function Sh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Ri(e){if(e!==Ge)return!1;if(!ee)return Sh(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=Ke)){if(eu(e))throw rg(),Error(N(418));for(;t;)ng(e,t),t=fn(t.nextSibling)}if(Sh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ge?fn(e.stateNode.nextSibling):null;return!0}function rg(){for(var e=Ke;e;)e=fn(e.nextSibling)}function Rr(){Ke=Ge=null,ee=!1}function mc(e){mt===null?mt=[e]:mt.push(e)}var Pw=Yt.ReactCurrentBatchConfig;function rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kh(e){var t=e._init;return t(e._payload)}function sg(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=vn(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,_){return m===null||m.tag!==6?(m=Ja(v,g.mode,_),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,_){var S=v.type;return S===cr?d(g,m,v.props.children,_,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===en&&kh(S)===m.type)?(_=s(m,v.props),_.ref=rs(g,m,v),_.return=g,_):(_=co(v.type,v.key,v.props,null,g.mode,_),_.ref=rs(g,m,v),_.return=g,_)}function u(g,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Za(v,g.mode,_),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function d(g,m,v,_,S){return m===null||m.tag!==7?(m=zn(v,g.mode,_,S),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ja(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ji:return v=co(m.type,m.key,m.props,null,g.mode,v),v.ref=rs(g,null,m),v.return=g,v;case ur:return m=Za(m,g.mode,v),m.return=g,m;case en:var _=m._init;return h(g,_(m._payload),v)}if(gs(m)||Jr(m))return m=zn(m,g.mode,v,null),m.return=g,m;Li(g,m)}return null}function f(g,m,v,_){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:return v.key===S?l(g,m,v,_):null;case ur:return v.key===S?u(g,m,v,_):null;case en:return S=v._init,f(g,m,S(v._payload),_)}if(gs(v)||Jr(v))return S!==null?null:d(g,m,v,_,null);Li(g,v)}return null}function p(g,m,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ji:return g=g.get(_.key===null?v:_.key)||null,l(m,g,_,S);case ur:return g=g.get(_.key===null?v:_.key)||null,u(m,g,_,S);case en:var j=_._init;return p(g,m,v,j(_._payload),S)}if(gs(_)||Jr(_))return g=g.get(v)||null,d(m,g,_,S,null);Li(m,_)}return null}function y(g,m,v,_){for(var S=null,j=null,C=m,P=m=0,M=null;C!==null&&P<v.length;P++){C.index>P?(M=C,C=null):M=C.sibling;var T=f(g,C,v[P],_);if(T===null){C===null&&(C=M);break}e&&C&&T.alternate===null&&t(g,C),m=i(T,m,P),j===null?S=T:j.sibling=T,j=T,C=M}if(P===v.length)return n(g,C),ee&&Dn(g,P),S;if(C===null){for(;P<v.length;P++)C=h(g,v[P],_),C!==null&&(m=i(C,m,P),j===null?S=C:j.sibling=C,j=C);return ee&&Dn(g,P),S}for(C=r(g,C);P<v.length;P++)M=p(C,g,P,v[P],_),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),m=i(M,m,P),j===null?S=M:j.sibling=M,j=M);return e&&C.forEach(function(V){return t(g,V)}),ee&&Dn(g,P),S}function x(g,m,v,_){var S=Jr(v);if(typeof S!="function")throw Error(N(150));if(v=S.call(v),v==null)throw Error(N(151));for(var j=S=null,C=m,P=m=0,M=null,T=v.next();C!==null&&!T.done;P++,T=v.next()){C.index>P?(M=C,C=null):M=C.sibling;var V=f(g,C,T.value,_);if(V===null){C===null&&(C=M);break}e&&C&&V.alternate===null&&t(g,C),m=i(V,m,P),j===null?S=V:j.sibling=V,j=V,C=M}if(T.done)return n(g,C),ee&&Dn(g,P),S;if(C===null){for(;!T.done;P++,T=v.next())T=h(g,T.value,_),T!==null&&(m=i(T,m,P),j===null?S=T:j.sibling=T,j=T);return ee&&Dn(g,P),S}for(C=r(g,C);!T.done;P++,T=v.next())T=p(C,g,P,T.value,_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),m=i(T,m,P),j===null?S=T:j.sibling=T,j=T);return e&&C.forEach(function(W){return t(g,W)}),ee&&Dn(g,P),S}function w(g,m,v,_){if(typeof v=="object"&&v!==null&&v.type===cr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:e:{for(var S=v.key,j=m;j!==null;){if(j.key===S){if(S=v.type,S===cr){if(j.tag===7){n(g,j.sibling),m=s(j,v.props.children),m.return=g,g=m;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===en&&kh(S)===j.type){n(g,j.sibling),m=s(j,v.props),m.ref=rs(g,j,v),m.return=g,g=m;break e}n(g,j);break}else t(g,j);j=j.sibling}v.type===cr?(m=zn(v.props.children,g.mode,_,v.key),m.return=g,g=m):(_=co(v.type,v.key,v.props,null,g.mode,_),_.ref=rs(g,m,v),_.return=g,g=_)}return o(g);case ur:e:{for(j=v.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Za(v,g.mode,_),m.return=g,g=m}return o(g);case en:return j=v._init,w(g,m,j(v._payload),_)}if(gs(v))return y(g,m,v,_);if(Jr(v))return x(g,m,v,_);Li(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=Ja(v,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return w}var Lr=sg(!0),ig=sg(!1),To=kn(null),Eo=null,yr=null,gc=null;function vc(){gc=yr=Eo=null}function yc(e){var t=To.current;Z(To),e._currentValue=t}function nu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){Eo=e,gc=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Eo===null)throw Error(N(308));yr=e,Eo.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var $n=null;function xc(e){$n===null?$n=[e]:$n.push(e)}function og(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wt(e,n)}return s=r.interleaved,s===null?(t.next=t,xc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wt(e,n)}function so(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ic(e,n)}}function jh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var s=e.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(f=t,p=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=se({},h,f);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=h}}function Ch(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var di={},Pt=kn(di),Ks=kn(di),Gs=kn(di);function Vn(e){if(e===di)throw Error(N(174));return e}function _c(e,t){switch(q(Gs,t),q(Ks,e),q(Pt,di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}Z(Pt),q(Pt,t)}function Ir(){Z(Pt),Z(Ks),Z(Gs)}function lg(e){Vn(Gs.current);var t=Vn(Pt.current),n=Ll(t,e.type);t!==n&&(q(Ks,e),q(Pt,n))}function bc(e){Ks.current===e&&(Z(Pt),Z(Ks))}var te=kn(0);function Ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function Sc(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var io=Yt.ReactCurrentDispatcher,Ka=Yt.ReactCurrentBatchConfig,Kn=0,re=null,de=null,ve=null,Mo=!1,Ps=!1,qs=0,Nw=0;function Se(){throw Error(N(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function jc(e,t,n,r,s,i){if(Kn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?Aw:Mw,e=n(r,s),Ps){i=0;do{if(Ps=!1,qs=0,25<=i)throw Error(N(301));i+=1,ve=de=null,t.updateQueue=null,io.current=Ow,e=n(r,s)}while(Ps)}if(io.current=Oo,t=de!==null&&de.next!==null,Kn=0,ve=de=re=null,Mo=!1,t)throw Error(N(300));return e}function Cc(){var e=qs!==0;return qs=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?re.memoizedState=ve=e:ve=ve.next=e,ve}function ut(){if(de===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=ve===null?re.memoizedState:ve.next;if(t!==null)ve=t,de=e;else{if(e===null)throw Error(N(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ve===null?re.memoizedState=ve=e:ve=ve.next=e}return ve}function Qs(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=ut(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Kn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,re.lanes|=d,Gn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,xt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,re.lanes|=i,Gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qa(e){var t=ut(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ug(){}function cg(e,t){var n=re,r=ut(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,Pc(fg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Xs(9,hg.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(N(349));Kn&30||dg(n,t,s)}return s}function dg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hg(e,t,n,r){t.value=n,t.getSnapshot=r,pg(t)&&mg(e)}function fg(e,t,n){return n(function(){pg(t)&&mg(e)})}function pg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function mg(e){var t=Wt(e,1);t!==null&&yt(t,e,1,-1)}function Ph(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Dw.bind(null,re,e),[t.memoizedState,e]}function Xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gg(){return ut().memoizedState}function oo(e,t,n,r){var s=St();re.flags|=e,s.memoizedState=Xs(1|t,n,void 0,r===void 0?null:r)}function ra(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&kc(r,o.deps)){s.memoizedState=Xs(t,n,i,r);return}}re.flags|=e,s.memoizedState=Xs(1|t,n,i,r)}function Nh(e,t){return oo(8390656,8,e,t)}function Pc(e,t){return ra(2048,8,e,t)}function vg(e,t){return ra(4,2,e,t)}function yg(e,t){return ra(4,4,e,t)}function xg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wg(e,t,n){return n=n!=null?n.concat([e]):null,ra(4,4,xg.bind(null,t,e),n)}function Nc(){}function _g(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sg(e,t,n){return Kn&21?(xt(n,t)||(n=Nm(),re.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function Tw(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Ka.transition;Ka.transition={};try{e(!1),t()}finally{Y=n,Ka.transition=r}}function kg(){return ut().memoizedState}function Ew(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jg(e))Cg(t,n);else if(n=og(e,t,n,r),n!==null){var s=Oe();yt(n,e,r,s),Pg(n,t,r)}}function Dw(e,t,n){var r=gn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jg(e))Cg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(s.next=s,xc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=og(e,t,s,r),n!==null&&(s=Oe(),yt(n,e,r,s),Pg(n,t,r))}}function jg(e){var t=e.alternate;return e===re||t!==null&&t===re}function Cg(e,t){Ps=Mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ic(e,n)}}var Oo={readContext:lt,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Aw={readContext:lt,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Nh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oo(4194308,4,xg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=St();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ew.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:Ph,useDebugValue:Nc,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=Ph(!1),t=e[0];return e=Tw.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,s=St();if(ee){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),ye===null)throw Error(N(349));Kn&30||dg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Nh(fg.bind(null,r,i,e),[e]),r.flags|=2048,Xs(9,hg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=St(),t=ye.identifierPrefix;if(ee){var n=Rt,r=Ot;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mw={readContext:lt,useCallback:_g,useContext:lt,useEffect:Pc,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:bg,useReducer:Ga,useRef:gg,useState:function(){return Ga(Qs)},useDebugValue:Nc,useDeferredValue:function(e){var t=ut();return Sg(t,de.memoizedState,e)},useTransition:function(){var e=Ga(Qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:cg,useId:kg,unstable_isNewReconciler:!1},Ow={readContext:lt,useCallback:_g,useContext:lt,useEffect:Pc,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:bg,useReducer:qa,useRef:gg,useState:function(){return qa(Qs)},useDebugValue:Nc,useDeferredValue:function(e){var t=ut();return de===null?t.memoizedState=e:Sg(t,de.memoizedState,e)},useTransition:function(){var e=qa(Qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:cg,useId:kg,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ru(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=gn(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=gn(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=gn(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,r),t!==null&&(yt(t,e,r,n),so(t,e,r))}};function Th(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!zs(n,r)||!zs(s,i):!0}function Ng(e,t,n){var r=!1,s=xn,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=ze(t)?Hn:Ee.current,r=t.contextTypes,i=(r=r!=null)?Or(e,s):xn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function su(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=ze(t)?Hn:Ee.current,s.context=Or(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ru(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Do(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=lx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function iu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function Tg(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,mu=r),iu(e,t)},n}function Eg(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){iu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iu(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Dh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qw.bind(null,e,t,n),t.then(e,e))}function Ah(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var Lw=Yt.ReactCurrentOwner,Be=!1;function De(e,t,n,r){t.child=e===null?ig(t,null,n,r):Lr(t,e.child,n,r)}function Oh(e,t,n,r,s){n=n.render;var i=t.ref;return Er(t,s),r=jc(e,t,n,r,i,s),n=Cc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(ee&&n&&fc(t),t.flags|=1,De(e,t,r,s),t.child)}function Rh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Lc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Dg(e,t,i,r,s)):(e=co(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(o,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Dg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(zs(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return ou(e,t,n,r,s)}function Ag(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(wr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(wr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(wr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,q(wr,Ye),Ye|=r;return De(e,t,s,n),t.child}function Mg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ou(e,t,n,r,s){var i=ze(n)?Hn:Ee.current;return i=Or(t,i),Er(t,s),n=jc(e,t,n,r,i,s),r=Cc(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(ee&&r&&fc(t),t.flags|=1,De(e,t,n,s),t.child)}function Lh(e,t,n,r,s){if(ze(n)){var i=!0;Co(t)}else i=!1;if(Er(t,s),t.stateNode===null)ao(e,t),Ng(t,n,r),su(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=ze(n)?Hn:Ee.current,u=Or(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Eh(t,o,r,u),tn=!1;var f=t.memoizedState;o.state=f,Do(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ue.current||tn?(typeof d=="function"&&(ru(t,n,d,r),l=t.memoizedState),(a=tn||Th(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ag(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=ze(n)?Hn:Ee.current,l=Or(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Eh(t,o,r,l),tn=!1,f=t.memoizedState,o.state=f,Do(t,r,o,s);var y=t.memoizedState;a!==h||f!==y||Ue.current||tn?(typeof p=="function"&&(ru(t,n,p,r),y=t.memoizedState),(u=tn||Th(t,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return au(e,t,n,r,i,s)}function au(e,t,n,r,s,i){Mg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_h(t,n,!1),Ht(e,t,i);r=t.stateNode,Lw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,i),t.child=Lr(t,null,a,i)):De(e,t,a,i),t.memoizedState=r.state,s&&_h(t,n,!0),t.child}function Og(e){var t=e.stateNode;t.pendingContext?wh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wh(e,t.context,!1),_c(e,t.containerInfo)}function Ih(e,t,n,r,s){return Rr(),mc(s),t.flags|=256,De(e,t,n,r),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rg(e,t,n){var r=t.pendingProps,s=te.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(te,s&1),e===null)return tu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aa(o,r,0,null),e=zn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uu(n),t.memoizedState=lu,e):Tc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Iw(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=vn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vn(a,i):(i=zn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?uu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=lu,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tc(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ii(e,t,n,r){return r!==null&&mc(r),Lr(t,e.child,null,n),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qa(Error(N(422))),Ii(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=aa({mode:"visible",children:r.children},s,0,null),i=zn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=uu(o),t.memoizedState=lu,i);if(!(t.mode&1))return Ii(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Qa(i,r,void 0),Ii(e,t,o,r)}if(a=(o&e.childLanes)!==0,Be||a){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(e,s),yt(r,e,s,-1))}return Rc(),r=Qa(Error(N(421))),Ii(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=fn(s.nextSibling),Ge=t,ee=!0,mt=null,e!==null&&(nt[rt++]=Ot,nt[rt++]=Rt,nt[rt++]=Yn,Ot=e.id,Rt=e.overflow,Yn=t),t=Tc(t,r.children),t.flags|=4096,t)}function Fh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nu(e.return,t,n)}function Xa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Lg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(De(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,n,t);else if(e.tag===19)Fh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ao(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xa(t,!0,n,null,i);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fw(e,t,n){switch(t.tag){case 3:Og(t),Rr();break;case 5:lg(t);break;case 1:ze(t.type)&&Co(t);break;case 4:_c(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(To,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?Rg(e,t,n):(q(te,te.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);q(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,Ag(e,t,n)}return Ht(e,t,n)}var Ig,cu,Fg,$g;Ig=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};Fg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vn(Pt.current);var i=null;switch(n){case"input":s=Al(e,s),r=Al(e,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=Rl(e,s),r=Rl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ko)}Il(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};$g=function(e,t,n,r){n!==r&&(t.flags|=4)};function ss(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $w(e,t,n){var r=t.pendingProps;switch(pc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ze(t.type)&&jo(),ke(t),null;case 3:return r=t.stateNode,Ir(),Z(Ue),Z(Ee),Sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(yu(mt),mt=null))),cu(e,t),ke(t),null;case 5:bc(t);var s=Vn(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Fg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return ke(t),null}if(e=Vn(Pt.current),Ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[jt]=t,r[Ys]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)J(ys[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Kd(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":qd(r,i),J("invalid",r)}Il(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,a,e),s=["children",""+a]):Ls.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Ci(r),Gd(r,i,!0);break;case"textarea":Ci(r),Qd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ko)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[jt]=t,e[Ys]=r,Ig(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fl(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)J(ys[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":Kd(e,r),s=Al(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),J("invalid",e);break;case"textarea":qd(e,r),s=Rl(e,r),J("invalid",e);break;default:s=r}Il(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Is(e,l):typeof l=="number"&&Is(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ls.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",e):l!=null&&Zu(e,i,l,o))}switch(n){case"input":Ci(e),Gd(e,r,!1);break;case"textarea":Ci(e),Qd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)$g(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Vn(Gs.current),Vn(Pt.current),Ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[jt]=t,(i=r.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=t,t.stateNode=r}return ke(t),null;case 13:if(Z(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ke!==null&&t.mode&1&&!(t.flags&128))rg(),Rr(),t.flags|=98560,i=!1;else if(i=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[jt]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else mt!==null&&(yu(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?he===0&&(he=3):Rc())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Ir(),cu(e,t),e===null&&Ws(t.stateNode.containerInfo),ke(t),null;case 10:return yc(t.type._context),ke(t),null;case 17:return ze(t.type)&&jo(),ke(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ss(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ao(e),o!==null){for(t.flags|=128,ss(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>$r&&(t.flags|=128,r=!0,ss(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ao(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return ke(t),null}else 2*ue()-i.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ss(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=te.current,q(te,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return Oc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Vw(e,t){switch(pc(t),t.tag){case 1:return ze(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),Z(Ue),Z(Ee),Sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bc(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return Ir(),null;case 10:return yc(t.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var Fi=!1,Ce=!1,Bw=typeof WeakSet=="function"?WeakSet:Set,D=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function du(e,t,n){try{n()}catch(r){ae(e,t,r)}}var $h=!1;function Uw(e,t){if(Gl=_o,e=Wm(),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:e,selectionRange:n},_o=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:ht(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return y=$h,$h=!1,y}function Ns(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&du(t,n,i)}s=s.next}while(s!==r)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vg(e){var t=e.alternate;t!==null&&(e.alternate=null,Vg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Ys],delete t[Jl],delete t[kw],delete t[jw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function Vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ko));else if(r!==4&&(e=e.child,e!==null))for(fu(e,t,n),e=e.sibling;e!==null;)fu(e,t,n),e=e.sibling}function pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}var xe=null,ft=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Ug(e,t,n),n=n.sibling}function Ug(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:Ce||xr(n,t);case 6:var r=xe,s=ft;xe=null,Gt(e,t,n),xe=r,ft=s,xe!==null&&(ft?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ft?(e=xe,n=n.stateNode,e.nodeType===8?Wa(e.parentNode,n):e.nodeType===1&&Wa(e,n),Bs(e)):Wa(xe,n.stateNode));break;case 4:r=xe,s=ft,xe=n.stateNode.containerInfo,ft=!0,Gt(e,t,n),xe=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&du(n,t,o),s=s.next}while(s!==r)}Gt(e,t,n);break;case 1:if(!Ce&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Gt(e,t,n),Ce=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bw),t.forEach(function(r){var s=Xw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ft=!1;break e;case 3:xe=a.stateNode.containerInfo,ft=!0;break e;case 4:xe=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(xe===null)throw Error(N(160));Ug(i,o,s),xe=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zg(t,e),t=t.sibling}function zg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),bt(e),r&4){try{Ns(3,e,e.return),ia(3,e)}catch(x){ae(e,e.return,x)}try{Ns(5,e,e.return)}catch(x){ae(e,e.return,x)}}break;case 1:ct(t,e),bt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(ct(t,e),bt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var s=e.stateNode;try{Is(s,"")}catch(x){ae(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dm(s,i),Fl(a,o);var u=Fl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gm(s,h):d==="dangerouslySetInnerHTML"?pm(s,h):d==="children"?Is(s,h):Zu(s,d,h,u)}switch(a){case"input":Ml(s,i);break;case"textarea":hm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(s,!!i.multiple,i.defaultValue,!0):Cr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ys]=i}catch(x){ae(e,e.return,x)}}break;case 6:if(ct(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ae(e,e.return,x)}}break;case 3:if(ct(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(x){ae(e,e.return,x)}break;case 4:ct(t,e),bt(e);break;case 13:ct(t,e),bt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ac=ue())),r&4&&Bh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||d,ct(t,e),Ce=u):ct(t,e),bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ns(4,f,f.return);break;case 1:xr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:xr(f,f.return);break;case 22:if(f.memoizedState!==null){zh(h);continue}}p!==null?(p.return=f,D=p):zh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mm("display",o))}catch(x){ae(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ae(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(t,e),bt(e),r&4&&Bh(e);break;case 21:break;default:ct(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bg(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Is(s,""),r.flags&=-33);var i=Vh(e);pu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Vh(e);fu(e,a,o);break;default:throw Error(N(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zw(e,t,n){D=e,Wg(e)}function Wg(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ce;a=Fi;var u=Ce;if(Fi=o,(Ce=l)&&!u)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Wh(s):l!==null?(l.return=o,D=l):Wh(s);for(;i!==null;)D=i,Wg(i),i=i.sibling;D=s,Fi=a,Ce=u}Uh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Uh(e)}}function Uh(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ch(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ch(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ce||t.flags&512&&hu(t)}catch(f){ae(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function zh(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Wh(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ia(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{hu(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{hu(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var Ww=Math.ceil,Ro=Yt.ReactCurrentDispatcher,Ec=Yt.ReactCurrentOwner,ot=Yt.ReactCurrentBatchConfig,z=0,ye=null,ce=null,_e=0,Ye=0,wr=kn(0),he=0,Js=null,Gn=0,oa=0,Dc=0,Ts=null,$e=null,Ac=0,$r=1/0,At=null,Lo=!1,mu=null,mn=null,$i=!1,un=null,Io=0,Es=0,gu=null,lo=-1,uo=0;function Oe(){return z&6?ue():lo!==-1?lo:lo=ue()}function gn(e){return e.mode&1?z&2&&_e!==0?_e&-_e:Pw.transition!==null?(uo===0&&(uo=Nm()),uo):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Rm(e.type)),e):1}function yt(e,t,n,r){if(50<Es)throw Es=0,gu=null,Error(N(185));li(e,n,r),(!(z&2)||e!==ye)&&(e===ye&&(!(z&2)&&(oa|=n),he===4&&sn(e,_e)),We(e,r),n===1&&z===0&&!(t.mode&1)&&($r=ue()+500,na&&jn()))}function We(e,t){var n=e.callbackNode;Px(e,t);var r=wo(e,e===ye?_e:0);if(r===0)n!==null&&Zd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zd(n),t===1)e.tag===0?Cw(Hh.bind(null,e)):eg(Hh.bind(null,e)),bw(function(){!(z&6)&&jn()}),n=null;else{switch(Tm(r)){case 1:n=sc;break;case 4:n=Cm;break;case 16:n=xo;break;case 536870912:n=Pm;break;default:n=xo}n=Jg(n,Hg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hg(e,t){if(lo=-1,uo=0,z&6)throw Error(N(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=wo(e,e===ye?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fo(e,r);else{t=r;var s=z;z|=2;var i=Kg();(ye!==e||_e!==t)&&(At=null,$r=ue()+500,Un(e,t));do try{Kw();break}catch(a){Yg(e,a)}while(!0);vc(),Ro.current=i,z=s,ce!==null?t=0:(ye=null,_e=0,t=he)}if(t!==0){if(t===2&&(s=zl(e),s!==0&&(r=s,t=vu(e,s))),t===1)throw n=Js,Un(e,0),sn(e,r),We(e,ue()),n;if(t===6)sn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Hw(s)&&(t=Fo(e,r),t===2&&(i=zl(e),i!==0&&(r=i,t=vu(e,i))),t===1))throw n=Js,Un(e,0),sn(e,r),We(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:An(e,$e,At);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=Ac+500-ue(),10<t)){if(wo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xl(An.bind(null,e,$e,At),t);break}An(e,$e,At);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-vt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ww(r/1960))-r,10<r){e.timeoutHandle=Xl(An.bind(null,e,$e,At),r);break}An(e,$e,At);break;case 5:An(e,$e,At);break;default:throw Error(N(329))}}}return We(e,ue()),e.callbackNode===n?Hg.bind(null,e):null}function vu(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=Fo(e,t),e!==2&&(t=$e,$e=n,t!==null&&yu(t)),e}function yu(e){$e===null?$e=e:$e.push.apply($e,e)}function Hw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Dc,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Hh(e){if(z&6)throw Error(N(327));Dr();var t=wo(e,0);if(!(t&1))return We(e,ue()),null;var n=Fo(e,t);if(e.tag!==0&&n===2){var r=zl(e);r!==0&&(t=r,n=vu(e,r))}if(n===1)throw n=Js,Un(e,0),sn(e,t),We(e,ue()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,$e,At),We(e,ue()),null}function Mc(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&($r=ue()+500,na&&jn())}}function qn(e){un!==null&&un.tag===0&&!(z&6)&&Dr();var t=z;z|=1;var n=ot.transition,r=Y;try{if(ot.transition=null,Y=1,e)return e()}finally{Y=r,ot.transition=n,z=t,!(z&6)&&jn()}}function Oc(){Ye=wr.current,Z(wr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_w(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(pc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Ir(),Z(Ue),Z(Ee),Sc();break;case 5:bc(r);break;case 4:Ir();break;case 13:Z(te);break;case 19:Z(te);break;case 10:yc(r.type._context);break;case 22:case 23:Oc()}n=n.return}if(ye=e,ce=e=vn(e.current,null),_e=Ye=t,he=0,Js=null,Dc=oa=Gn=0,$e=Ts=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$n=null}return e}function Yg(e,t){do{var n=ce;try{if(vc(),io.current=Oo,Mo){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Mo=!1}if(Kn=0,ve=de=re=null,Ps=!1,qs=0,Ec.current=null,n===null||n.return===null){he=1,Js=t,ce=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ah(o);if(p!==null){p.flags&=-257,Mh(p,o,a,i,t),p.mode&1&&Dh(i,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Dh(i,u,t),Rc();break e}l=Error(N(426))}}else if(ee&&a.mode&1){var w=Ah(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Mh(w,o,a,i,t),mc(Fr(l,a));break e}}i=l=Fr(l,a),he!==4&&(he=2),Ts===null?Ts=[i]:Ts.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Tg(i,l,t);jh(i,g);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mn===null||!mn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Eg(i,a,t);jh(i,_);break e}}i=i.return}while(i!==null)}qg(n)}catch(S){t=S,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Kg(){var e=Ro.current;return Ro.current=Oo,e===null?Oo:e}function Rc(){(he===0||he===3||he===2)&&(he=4),ye===null||!(Gn&268435455)&&!(oa&268435455)||sn(ye,_e)}function Fo(e,t){var n=z;z|=2;var r=Kg();(ye!==e||_e!==t)&&(At=null,Un(e,t));do try{Yw();break}catch(s){Yg(e,s)}while(!0);if(vc(),z=n,Ro.current=r,ce!==null)throw Error(N(261));return ye=null,_e=0,he}function Yw(){for(;ce!==null;)Gg(ce)}function Kw(){for(;ce!==null&&!yx();)Gg(ce)}function Gg(e){var t=Xg(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?qg(e):ce=t,Ec.current=null}function qg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vw(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ce=null;return}}else if(n=$w(n,t,Ye),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);he===0&&(he=5)}function An(e,t,n){var r=Y,s=ot.transition;try{ot.transition=null,Y=1,Gw(e,t,n,r)}finally{ot.transition=s,Y=r}return null}function Gw(e,t,n,r){do Dr();while(un!==null);if(z&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nx(e,i),e===ye&&(ce=ye=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,Jg(xo,function(){return Dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=Y;Y=1;var a=z;z|=4,Ec.current=null,Uw(e,n),zg(n,e),pw(ql),_o=!!Gl,ql=Gl=null,e.current=n,zw(n),xx(),z=a,Y=o,ot.transition=i}else e.current=n;if($i&&($i=!1,un=e,Io=s),i=e.pendingLanes,i===0&&(mn=null),bx(n.stateNode),We(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lo)throw Lo=!1,e=mu,mu=null,e;return Io&1&&e.tag!==0&&Dr(),i=e.pendingLanes,i&1?e===gu?Es++:(Es=0,gu=e):Es=0,jn(),null}function Dr(){if(un!==null){var e=Tm(Io),t=ot.transition,n=Y;try{if(ot.transition=null,Y=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,Io=0,z&6)throw Error(N(331));var s=z;for(z|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ns(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,p=d.return;if(Vg(d),d===u){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ns(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var m=e.current;for(D=m;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=m;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ia(9,a)}}catch(S){ae(a,a.return,S)}if(a===o){D=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,D=_;break e}D=a.return}}if(z=s,jn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Xo,e)}catch{}r=!0}return r}finally{Y=n,ot.transition=t}}return!1}function Yh(e,t,n){t=Fr(n,t),t=Tg(e,t,1),e=pn(e,t,1),t=Oe(),e!==null&&(li(e,1,t),We(e,t))}function ae(e,t,n){if(e.tag===3)Yh(e,e,n);else for(;t!==null;){if(t.tag===3){Yh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=Fr(n,e),e=Eg(t,e,1),t=pn(t,e,1),e=Oe(),t!==null&&(li(t,1,e),We(t,e));break}}t=t.return}}function qw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>ue()-Ac?Un(e,0):Dc|=n),We(e,t)}function Qg(e,t){t===0&&(e.mode&1?(t=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):t=1);var n=Oe();e=Wt(e,t),e!==null&&(li(e,t,n),We(e,n))}function Qw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qg(e,n)}function Xw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Qg(e,n)}var Xg;Xg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,Fw(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ee&&t.flags&1048576&&tg(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ao(e,t),e=t.pendingProps;var s=Or(t,Ee.current);Er(t,n),s=jc(null,t,r,e,s,n);var i=Cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,Co(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wc(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,su(t,r,e,n),t=au(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&fc(t),De(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zw(r),e=ht(r,e),s){case 0:t=ou(null,t,r,e,n);break e;case 1:t=Lh(null,t,r,e,n);break e;case 11:t=Oh(null,t,r,e,n);break e;case 14:t=Rh(null,t,r,ht(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),ou(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Lh(e,t,r,s,n);case 3:e:{if(Og(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ag(e,t),Do(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(N(423)),t),t=Ih(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(N(424)),t),t=Ih(e,t,r,n,s);break e}else for(Ke=fn(t.stateNode.containerInfo.firstChild),Ge=t,ee=!0,mt=null,n=ig(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),r===s){t=Ht(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return lg(t),e===null&&tu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ql(r,s)?o=null:i!==null&&Ql(r,i)&&(t.flags|=32),Mg(e,t),De(e,t,o,n),t.child;case 6:return e===null&&tu(t),null;case 13:return Rg(e,t,n);case 4:return _c(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Oh(e,t,r,s,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,q(To,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!Ue.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),nu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}De(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Er(t,n),s=lt(s),r=r(s),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),Rh(e,t,r,s,n);case 15:return Dg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),ao(e,t),t.tag=1,ze(r)?(e=!0,Co(t)):e=!1,Er(t,n),Ng(t,r,s),su(t,r,s,n),au(null,t,r,!0,e,n);case 19:return Lg(e,t,n);case 22:return Ag(e,t,n)}throw Error(N(156,t.tag))};function Jg(e,t){return jm(e,t)}function Jw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new Jw(e,t,n,r)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zw(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tc)return 11;if(e===nc)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function co(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Lc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cr:return zn(n.children,s,i,t);case ec:o=8,s|=8;break;case Nl:return e=it(12,n,t,s|2),e.elementType=Nl,e.lanes=i,e;case Tl:return e=it(13,n,t,s),e.elementType=Tl,e.lanes=i,e;case El:return e=it(19,n,t,s),e.elementType=El,e.lanes=i,e;case lm:return aa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case om:o=10;break e;case am:o=9;break e;case tc:o=11;break e;case nc:o=14;break e;case en:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=it(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function zn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function aa(e,t,n,r){return e=it(22,e,r,t),e.elementType=lm,e.lanes=n,e.stateNode={isHidden:!1},e}function Ja(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function Za(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ic(e,t,n,r,s,i,o,a,l){return e=new e1(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(i),e}function t1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zg(e){if(!e)return xn;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(ze(n))return Zm(e,n,t)}return t}function ev(e,t,n,r,s,i,o,a,l){return e=Ic(n,r,!0,e,s,i,o,a,l),e.context=Zg(null),n=e.current,r=Oe(),s=gn(n),i=It(r,s),i.callback=t??null,pn(n,i,s),e.current.lanes=s,li(e,s,r),We(e,r),e}function la(e,t,n,r){var s=t.current,i=Oe(),o=gn(s);return n=Zg(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(s,t,o),e!==null&&(yt(e,s,o,i),so(e,s,o)),o}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fc(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function n1(){return null}var tv=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}ua.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));la(e,t,null,null)};ua.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){la(null,e,null,null)}),t[zt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=Am();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&Om(e)}};function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function r1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$o(o);i.call(u)}}var o=ev(t,r,e,0,null,!1,!1,"",Gh);return e._reactRootContainer=o,e[zt]=o.current,Ws(e.nodeType===8?e.parentNode:e),qn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=$o(l);a.call(u)}}var l=Ic(e,0,!1,null,null,!1,!1,"",Gh);return e._reactRootContainer=l,e[zt]=l.current,Ws(e.nodeType===8?e.parentNode:e),qn(function(){la(t,l,n,r)}),l}function da(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$o(o);a.call(l)}}la(t,o,e,s)}else o=r1(n,t,e,s,r);return $o(o)}Em=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vs(t.pendingLanes);n!==0&&(ic(t,n|1),We(t,ue()),!(z&6)&&($r=ue()+500,jn()))}break;case 13:qn(function(){var r=Wt(e,1);if(r!==null){var s=Oe();yt(r,e,1,s)}}),Fc(e,1)}};oc=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Oe();yt(t,e,134217728,n)}Fc(e,134217728)}};Dm=function(e){if(e.tag===13){var t=gn(e),n=Wt(e,t);if(n!==null){var r=Oe();yt(n,e,t,r)}Fc(e,t)}};Am=function(){return Y};Mm=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Vl=function(e,t,n){switch(t){case"input":if(Ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ta(r);if(!s)throw Error(N(90));cm(r),Ml(r,s)}}}break;case"textarea":hm(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};xm=Mc;wm=qn;var s1={usingClientEntryPoint:!1,Events:[ci,pr,ta,vm,ym,Mc]},is={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sm(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||n1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{Xo=Vi.inject(i1),Ct=Vi}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(t))throw Error(N(200));return t1(e,t,null,n)};Je.createRoot=function(e,t){if(!Vc(e))throw Error(N(299));var n=!1,r="",s=tv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ic(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,Ws(e.nodeType===8?e.parentNode:e),new $c(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Sm(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return qn(e)};Je.hydrate=function(e,t,n){if(!ca(t))throw Error(N(200));return da(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ev(t,null,e,1,n??null,s,!1,i,o),e[zt]=t.current,Ws(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ua(t)};Je.render=function(e,t,n){if(!ca(t))throw Error(N(200));return da(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!ca(e))throw Error(N(40));return e._reactRootContainer?(qn(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};Je.unstable_batchedUpdates=Mc;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ca(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return da(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nv)}catch(e){console.error(e)}}nv(),nm.exports=Je;var o1=nm.exports,rv,qh=o1;rv=qh.createRoot,qh.hydrateRoot;function a1(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function ha(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const xu=e=>Array.isArray(e);function sv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zs(e){return typeof e=="string"||Array.isArray(e)}function Qh(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Bc(e,t,n,r){if(typeof t=="function"){const[s,i]=Qh(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Qh(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function fa(e,t,n){const r=e.getProps();return Bc(r,t,n!==void 0?n:r.custom,e)}const Uc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zc=["initial",...Uc],hi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],er=new Set(hi),Ft=e=>e*1e3,$t=e=>e/1e3,l1={type:"spring",stiffness:500,damping:25,restSpeed:10},u1=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),c1={type:"keyframes",duration:.8},d1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h1=(e,{keyframes:t})=>t.length>2?c1:er.has(e)?e.startsWith("scale")?u1(t[1]):l1:d1;function Wc(e,t){return e?e[t]||e.default||e:void 0}const f1={skipAnimations:!1,useManualTiming:!1},p1=e=>e!==null;function pa(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(p1),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Ne=e=>e;function m1(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,s&&(s=!1,l.process(u))}};return l}const Bi=["read","resolveKeyframes","update","preRender","render","postRender"],g1=40;function iv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Bi.reduce((g,m)=>(g[m]=m1(i),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,g1),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},y=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Bi.reduce((g,m)=>{const v=o[m];return g[m]=(_,S=!1,j=!1)=>(n||y(),v.schedule(_,S,j)),g},{}),cancel:g=>{for(let m=0;m<Bi.length;m++)o[Bi[m]].cancel(g)},state:s,steps:o}}const{schedule:K,cancel:wn,state:we,steps:el}=iv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0),ov=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,v1=1e-7,y1=12;function x1(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=ov(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>v1&&++a<y1);return o}function fi(e,t,n,r){if(e===t&&n===r)return Ne;const s=i=>x1(i,0,1,e,n);return i=>i===0||i===1?i:ov(s(i),t,r)}const av=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lv=e=>t=>1-e(1-t),uv=fi(.33,1.53,.69,.99),Hc=lv(uv),cv=av(Hc),dv=e=>(e*=2)<1?.5*Hc(e):.5*(2-Math.pow(2,-10*(e-1))),Yc=e=>1-Math.sin(Math.acos(e)),hv=lv(Yc),fv=av(Yc),pv=e=>/^0[^.\s]+$/u.test(e);function w1(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pv(e):!0}let wu=Ne;const mv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gv=e=>t=>typeof t=="string"&&t.startsWith(e),vv=gv("--"),_1=gv("var(--"),Kc=e=>_1(e)?b1.test(e.split("/*")[0].trim()):!1,b1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,S1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k1(e){const t=S1.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function yv(e,t,n=1){const[r,s]=k1(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return mv(o)?parseFloat(o):o}return Kc(s)?yv(s,t,n+1):s}const _n=(e,t,n)=>n>t?t:n<e?e:n,qr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ei={...qr,transform:e=>_n(0,1,e)},Ui={...qr,default:1},pi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xt=pi("deg"),Nt=pi("%"),O=pi("px"),j1=pi("vh"),C1=pi("vw"),Xh={...Nt,parse:e=>Nt.parse(e)/100,transform:e=>Nt.transform(e*100)},P1=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jh=e=>e===qr||e===O,Zh=(e,t)=>parseFloat(e.split(", ")[t]),ef=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Zh(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Zh(i[1],e):0}},N1=new Set(["x","y","z"]),T1=hi.filter(e=>!N1.has(e));function E1(e){const t=[];return T1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Vr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ef(4,13),y:ef(5,14)};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const xv=e=>t=>t.test(e),D1={test:e=>e==="auto",parse:e=>e},wv=[qr,O,Nt,Xt,C1,j1,D1],tf=e=>wv.find(xv(e)),Wn=new Set;let _u=!1,bu=!1;function _v(){if(bu){const e=Array.from(Wn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=E1(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bu=!1,_u=!1,Wn.forEach(e=>e.complete()),Wn.clear()}function bv(){Wn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bu=!0)})}function A1(){bv(),_v()}class Gc{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wn.add(this),_u||(_u=!0,K.read(bv),K.resolveKeyframes(_v))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ds=e=>Math.round(e*1e5)/1e5,qc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M1(e){return e==null}const O1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qc=(e,t)=>n=>!!(typeof n=="string"&&O1.test(n)&&n.startsWith(e)||t&&!M1(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(qc);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},R1=e=>_n(0,255,e),tl={...qr,transform:e=>Math.round(R1(e))},Bn={test:Qc("rgb","red"),parse:Sv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tl.transform(e)+", "+tl.transform(t)+", "+tl.transform(n)+", "+Ds(ei.transform(r))+")"};function L1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Su={test:Qc("#"),parse:L1,transform:Bn.transform},_r={test:Qc("hsl","hue"),parse:Sv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Nt.transform(Ds(t))+", "+Nt.transform(Ds(n))+", "+Ds(ei.transform(r))+")"},je={test:e=>Bn.test(e)||Su.test(e)||_r.test(e),parse:e=>Bn.test(e)?Bn.parse(e):_r.test(e)?_r.parse(e):Su.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bn.transform(e):_r.transform(e)},I1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(I1))===null||n===void 0?void 0:n.length)||0)>0}const kv="number",jv="color",$1="var",V1="var(",nf="${}",B1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ti(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(B1,l=>(je.test(l)?(r.color.push(i),s.push(jv),n.push(je.parse(l))):l.startsWith(V1)?(r.var.push(i),s.push($1),n.push(l)):(r.number.push(i),s.push(kv),n.push(parseFloat(l))),++i,nf)).split(nf);return{values:n,split:a,indexes:r,types:s}}function Cv(e){return ti(e).values}function Pv(e){const{split:t,types:n}=ti(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===kv?i+=Ds(s[o]):a===jv?i+=je.transform(s[o]):i+=s[o]}return i}}const U1=e=>typeof e=="number"?0:e;function z1(e){const t=Cv(e);return Pv(e)(t.map(U1))}const bn={test:F1,parse:Cv,createTransformer:Pv,getAnimatableNone:z1},W1=new Set(["brightness","contrast","saturate","opacity"]);function H1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qc)||[];if(!r)return e;const s=n.replace(r,"");let i=W1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Y1=/\b([a-z-]*)\(.*?\)/gu,ku={...bn,getAnimatableNone:e=>{const t=e.match(Y1);return t?t.map(H1).join(" "):e}},K1={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O},G1={rotate:Xt,rotateX:Xt,rotateY:Xt,rotateZ:Xt,scale:Ui,scaleX:Ui,scaleY:Ui,scaleZ:Ui,skew:Xt,skewX:Xt,skewY:Xt,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:ei,originX:Xh,originY:Xh,originZ:O},rf={...qr,transform:Math.round},Xc={...K1,...G1,zIndex:rf,size:O,fillOpacity:ei,strokeOpacity:ei,numOctaves:rf},q1={...Xc,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:ku,WebkitFilter:ku},Jc=e=>q1[e];function Nv(e,t){let n=Jc(e);return n!==ku&&(n=bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Q1=new Set(["auto","none","0"]);function X1(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Q1.has(i)&&ti(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Nv(n,s)}class Tv extends Gc{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Kc(u))){const d=yv(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!P1.has(r)||t.length!==2)return;const[s,i]=t,o=tf(s),a=tf(i);if(o!==a)if(Jh(o)&&Jh(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)w1(t[s])&&r.push(s);r.length&&X1(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Vr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Zc(e){return typeof e=="function"}let ho;function J1(){ho=void 0}const Tt={now:()=>(ho===void 0&&Tt.set(we.isProcessing||f1.useManualTiming?we.timestamp:performance.now()),ho),set:e=>{ho=e,queueMicrotask(J1)}},sf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bn.test(e)||e==="0")&&!e.startsWith("url("));function Z1(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function e_(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=sf(s,t),a=sf(i,t);return!o||!a?!1:Z1(e)||(n==="spring"||Zc(n))&&r}const t_=40;class Ev{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>t_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&A1(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Tt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!e_(t,r,s,i))if(o)this.options.duration=0;else{l==null||l(pa(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function Dv(e,t){return t?e*(1e3/t):0}const n_=5;function Av(e,t,n){const r=Math.max(t-n_,0);return Dv(n-e(r),t-r)}const nl=.001,r_=.01,s_=10,i_=.05,o_=1;function a_({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=_n(i_,o_,o),e=_n(r_,s_,$t(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=ju(u,o),y=Math.exp(-h);return nl-f/p*y},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),x=ju(Math.pow(u,2),o);return(-s(u)+nl>0?-1:1)*((f-p)*y)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-nl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=u_(s,i,a);if(e=Ft(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const l_=12;function u_(e,t,n){let r=n;for(let s=1;s<l_;s++)r=r-e(r)/t(r);return r}function ju(e,t){return e*Math.sqrt(1-t*t)}const c_=["duration","bounce"],d_=["stiffness","damping","mass"];function of(e,t){return t.some(n=>e[n]!==void 0)}function h_(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!of(e,d_)&&of(e,c_)){const n=a_(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Mv({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=h_({...r,velocity:-$t(r.velocity||0)}),p=h||0,y=l/(2*Math.sqrt(a*u)),x=i-s,w=$t(Math.sqrt(a/u)),g=Math.abs(x)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let m;if(y<1){const v=ju(w,y);m=_=>{const S=Math.exp(-y*w*_);return i-S*((p+y*w*x)/v*Math.sin(v*_)+x*Math.cos(v*_))}}else if(y===1)m=v=>i-Math.exp(-w*v)*(x+(p+w*x)*v);else{const v=w*Math.sqrt(y*y-1);m=_=>{const S=Math.exp(-y*w*_),j=Math.min(v*_,300);return i-S*((p+y*w*x)*Math.sinh(j)+v*x*Math.cosh(j))/v}}return{calculatedDuration:f&&d||null,next:v=>{const _=m(v);if(f)o.done=v>=d;else{let S=0;y<1&&(S=v===0?Ft(p):Av(m,v,_));const j=Math.abs(S)<=n,C=Math.abs(i-_)<=t;o.done=j&&C}return o.value=o.done?i:_,o}}}function af({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=P=>a!==void 0&&P<a||l!==void 0&&P>l,y=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let x=n*t;const w=h+x,g=o===void 0?w:o(w);g!==w&&(x=g-h);const m=P=>-x*Math.exp(-P/r),v=P=>g+m(P),_=P=>{const M=m(P),T=v(P);f.done=Math.abs(M)<=u,f.value=f.done?g:T};let S,j;const C=P=>{p(f.value)&&(S=P,j=Mv({keyframes:[f.value,y(f.value)],velocity:Av(v,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:P=>{let M=!1;return!j&&S===void 0&&(M=!0,_(P),C(P)),S!==void 0&&P>=S?j.next(P-S):(!M&&_(P),f)}}}const f_=fi(.42,0,1,1),p_=fi(0,0,.58,1),Ov=fi(.42,0,.58,1),m_=e=>Array.isArray(e)&&typeof e[0]!="number",ed=e=>Array.isArray(e)&&typeof e[0]=="number",lf={linear:Ne,easeIn:f_,easeInOut:Ov,easeOut:p_,circIn:Yc,circInOut:fv,circOut:hv,backIn:Hc,backInOut:cv,backOut:uv,anticipate:dv},uf=e=>{if(ed(e)){wu(e.length===4);const[t,n,r,s]=e;return fi(t,n,r,s)}else if(typeof e=="string")return wu(lf[e]!==void 0),lf[e];return e},g_=(e,t)=>n=>t(e(n)),Vt=(...e)=>e.reduce(g_),Br=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ne=(e,t,n)=>e+(t-e)*n;function rl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function v_({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=rl(l,a,e+1/3),i=rl(l,a,e),o=rl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Vo(e,t){return n=>n>0?t:e}const sl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},y_=[Su,Bn,_r],x_=e=>y_.find(t=>t.test(e));function cf(e){const t=x_(e);if(!t)return!1;let n=t.parse(e);return t===_r&&(n=v_(n)),n}const df=(e,t)=>{const n=cf(e),r=cf(t);if(!n||!r)return Vo(e,t);const s={...n};return i=>(s.red=sl(n.red,r.red,i),s.green=sl(n.green,r.green,i),s.blue=sl(n.blue,r.blue,i),s.alpha=ne(n.alpha,r.alpha,i),Bn.transform(s))},Cu=new Set(["none","hidden"]);function w_(e,t){return Cu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function __(e,t){return n=>ne(e,t,n)}function td(e){return typeof e=="number"?__:typeof e=="string"?Kc(e)?Vo:je.test(e)?df:k_:Array.isArray(e)?Rv:typeof e=="object"?je.test(e)?df:b_:Vo}function Rv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>td(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function b_(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=td(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function S_(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const k_=(e,t)=>{const n=bn.createTransformer(t),r=ti(e),s=ti(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Cu.has(e)&&!s.values.length||Cu.has(t)&&!r.values.length?w_(e,t):Vt(Rv(S_(r,s),s.values),n):Vo(e,t)};function Lv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ne(e,t,n):td(e)(e,t)}function j_(e,t,n){const r=[],s=n||Lv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ne:t;a=Vt(l,a)}r.push(a)}return r}function C_(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(wu(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=j_(t,r,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Br(e[d],e[d+1],u);return o[d](h)};return n?u=>l(_n(e[0],e[i-1],u)):l}function P_(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Br(0,t,r);e.push(ne(n,1,s))}}function N_(e){const t=[0];return P_(t,e.length-1),t}function T_(e,t){return e.map(n=>n*t)}function E_(e,t){return e.map(()=>t||Ov).splice(0,e.length-1)}function Bo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=m_(r)?r.map(uf):uf(r),i={done:!1,value:t[0]},o=T_(n&&n.length===t.length?n:N_(t),e),a=C_(o,t,{ease:Array.isArray(s)?s:E_(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const hf=2e4;function D_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hf;)t+=n,r=e.next(t);return t>=hf?1/0:t}const A_=e=>{const t=({timestamp:n})=>e(n);return{start:()=>K.update(t,!0),stop:()=>wn(t),now:()=>we.isProcessing?we.timestamp:Tt.now()}},M_={decay:af,inertia:af,tween:Bo,keyframes:Bo,spring:Mv},O_=e=>e/100;class nd extends Ev{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Gc,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Zc(n)?n:M_[n]||Bo;let l,u;a!==Bo&&typeof t[0]!="number"&&(l=Vt(O_,Lv(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=D_(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,_=i;if(p){const P=Math.min(this.currentTime,d)/h;let M=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(y==="reverse"?(T=1-T,x&&(T-=x/h)):y==="mirror"&&(_=o)),v=_n(0,1,T)*h}const S=m?{done:!1,value:l[0]}:_.next(v);a&&(S.value=a(S.value));let{done:j}=S;!m&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&s!==void 0&&(S.value=pa(l,this.options,s)),w&&w(S.value),C&&this.finish(),S}get duration(){const{resolved:t}=this;return t?$t(t.calculatedDuration):0}get time(){return $t(this.currentTime)}set time(t){t=Ft(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$t(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=A_,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const R_=new Set(["opacity","clipPath","filter","transform"]),L_=10,I_=(e,t)=>{let n="";const r=Math.max(Math.round(t/L_),2);for(let s=0;s<r;s++)n+=e(Br(0,r-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function rd(e){let t;return()=>(t===void 0&&(t=e()),t)}const F_={linearEasing:void 0};function $_(e,t){const n=rd(e);return()=>{var r;return(r=F_[t])!==null&&r!==void 0?r:n()}}const Uo=$_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Iv(e){return!!(typeof e=="function"&&Uo()||!e||typeof e=="string"&&(e in Pu||Uo())||ed(e)||Array.isArray(e)&&e.every(Iv))}const xs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xs([0,.65,.55,1]),circOut:xs([.55,0,1,.45]),backIn:xs([.31,.01,.66,-.59]),backOut:xs([.33,1.53,.69,.99])};function Fv(e,t){if(e)return typeof e=="function"&&Uo()?I_(e,t):ed(e)?xs(e):Array.isArray(e)?e.map(n=>Fv(n,t)||Pu.easeOut):Pu[e]}function V_(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Fv(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ff(e,t){e.timeline=t,e.onfinish=null}const B_=rd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zo=10,U_=2e4;function z_(e){return Zc(e.type)||e.type==="spring"||!Iv(e.ease)}function W_(e,t){const n=new nd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<U_;)r=n.sample(i),s.push(r.value),i+=zo;return{times:void 0,keyframes:s,duration:i-zo,ease:"linear"}}const $v={anticipate:dv,backInOut:cv,circInOut:fv};function H_(e){return e in $v}class pf extends Ev{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Tv(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Uo()&&H_(o)&&(o=$v[o]),z_(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:x,...w}=this.options,g=W_(t,w);t=g.keyframes,t.length===1&&(t[1]=t[0]),s=g.duration,i=g.times,o=g.ease,a="keyframes"}const h=V_(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(ff(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(pa(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return $t(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return $t(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ft(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ne;const{animation:r}=n;ff(r,t)}return Ne}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,y=new nd({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),x=Ft(this.time);u.setWithVelocity(y.sample(x-zo).value,y.sample(x).value,zo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return B_()&&r&&R_.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const Y_=rd(()=>window.ScrollTimeline!==void 0);class K_{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>Y_()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function G_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const sd=(e,t,n,r={},s,i)=>o=>{const a=Wc(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ft(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};G_(a)||(d={...d,...h1(e,d)}),d.duration&&(d.duration=Ft(d.duration)),d.repeatDelay&&(d.repeatDelay=Ft(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=pa(d.keyframes,a);if(f!==void 0)return K.update(()=>{d.onUpdate(f),d.onComplete()}),new K_([])}return!i&&pf.supports(d)?new pf(d):new nd(d)},q_=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Q_=e=>xu(e)?e[e.length-1]||0:e;function id(e,t){e.indexOf(t)===-1&&e.push(t)}function od(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ad{constructor(){this.subscriptions=[]}add(t){return id(this.subscriptions,t),()=>od(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mf=30,X_=e=>!isNaN(parseFloat(e));class J_{constructor(t,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Tt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ad);const r=this.events[t].add(n);return t==="change"?()=>{r(),K.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mf);return Dv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(e,t){return new J_(e,t)}function Z_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ni(n))}function eb(e,t){const n=fa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Q_(i[o]);Z_(e,o,a)}}const ld=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tb="framerAppearId",Vv="data-"+ld(tb);function Bv(e){return e.props[Vv]}const Pe=e=>!!(e&&e.getVelocity);function nb(e){return!!(Pe(e)&&e.add)}function Nu(e,t){const n=e.getValue("willChange");if(nb(n))return n.add(t)}function rb({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Uv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&rb(d,h))continue;const y={delay:n,...Wc(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const g=Bv(e);if(g){const m=window.MotionHandoffAnimation(g,h,K);m!==null&&(y.startTime=m,x=!0)}}Nu(e,h),f.start(sd(h,f,p,e.shouldReduceMotion&&er.has(h)?{type:!1}:y,e,x));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{K.update(()=>{a&&eb(e,a)})}),u}function Tu(e,t,n={}){var r;const s=fa(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Uv(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return sb(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function sb(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(ib).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Tu(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function ib(e,t){return e.sortNodePosition(t)}function ob(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Tu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Tu(e,t,n);else{const s=typeof t=="function"?fa(e,t,n.custom):t;r=Promise.all(Uv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const ab=zc.length;function zv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ab;n++){const r=zc[n],s=e.props[r];(Zs(s)||s===!1)&&(t[r]=s)}return t}const lb=[...Uc].reverse(),ub=Uc.length;function cb(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ob(e,n,r)))}function db(e){let t=cb(e),n=gf(),r=!0;const s=l=>(u,d)=>{var h;const f=fa(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:y,...x}=f;u={...u,...x,...y}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=zv(e.parent)||{},h=[],f=new Set;let p={},y=1/0;for(let w=0;w<ub;w++){const g=lb[w],m=n[g],v=u[g]!==void 0?u[g]:d[g],_=Zs(v),S=g===l?m.isActive:null;S===!1&&(y=w);let j=v===d[g]&&v!==u[g]&&_;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...p},!m.isActive&&S===null||!v&&!m.prevProp||ha(v)||typeof v=="boolean")continue;const C=hb(m.prevProp,v);let P=C||g===l&&m.isActive&&!j&&_||w>y&&_,M=!1;const T=Array.isArray(v)?v:[v];let V=T.reduce(s(g),{});S===!1&&(V={});const{prevResolvedValues:W={}}=m,pe={...W,...V},oe=E=>{P=!0,f.has(E)&&(M=!0,f.delete(E)),m.needsAnimating[E]=!0;const k=e.getValue(E);k&&(k.liveStyle=!1)};for(const E in pe){const k=V[E],R=W[E];if(p.hasOwnProperty(E))continue;let I=!1;xu(k)&&xu(R)?I=!sv(k,R):I=k!==R,I?k!=null?oe(E):f.add(E):k!==void 0&&f.has(E)?oe(E):m.protectedKeys[E]=!0}m.prevProp=v,m.prevResolvedValues=V,m.isActive&&(p={...p,...V}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(j&&C)||M)&&h.push(...T.map(E=>({animation:E,options:{type:g}})))}if(f.size){const w={};f.forEach(g=>{const m=e.getBaseTarget(g),v=e.getValue(g);v&&(v.liveStyle=!0),w[g]=m??null}),h.push({animation:w})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gf(),r=!0}}}function hb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sv(t,e):!1}function Tn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gf(){return{animate:Tn(!0),whileInView:Tn(),whileHover:Tn(),whileTap:Tn(),whileDrag:Tn(),whileFocus:Tn(),exit:Tn()}}class Cn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fb extends Cn{constructor(t){super(t),t.animationState||(t.animationState=db(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ha(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pb=0;class mb extends Cn{constructor(){super(...arguments),this.id=pb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gb={animation:{Feature:fb},exit:{Feature:mb}},Wv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ma(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const vb=e=>t=>Wv(t)&&e(t,ma(t));function Lt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bt(e,t,n,r){return Lt(e,t,vb(n),r)}const vf=(e,t)=>Math.abs(e-t);function yb(e,t){const n=vf(e.x,t.x),r=vf(e.y,t.y);return Math.sqrt(n**2+r**2)}class Hv{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ol(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=yb(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=h,{timestamp:x}=we;this.history.push({...y,timestamp:x});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=il(f,this.transformPagePoint),K.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ol(h.type==="pointercancel"?this.lastMoveEventInfo:il(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),y&&y(h,w)},!Wv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ma(t),a=il(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=we;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ol(a,this.history)),this.removeListeners=Vt(Bt(this.contextWindow,"pointermove",this.handlePointerMove),Bt(this.contextWindow,"pointerup",this.handlePointerUp),Bt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function il(e,t){return t?{point:t(e.point)}:e}function yf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ol({point:e},t){return{point:e,delta:yf(e,Yv(t)),offset:yf(e,xb(t)),velocity:wb(t,.1)}}function xb(e){return e[0]}function Yv(e){return e[e.length-1]}function wb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Yv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ft(t)));)n--;if(!r)return{x:0,y:0};const i=$t(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Kv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const xf=Kv("dragHorizontal"),wf=Kv("dragVertical");function Gv(e){let t=!1;if(e==="y")t=wf();else if(e==="x")t=xf();else{const n=xf(),r=wf();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function qv(){const e=Gv(!0);return e?(e(),!1):!0}function br(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Qv=1e-4,_b=1-Qv,bb=1+Qv,Xv=.01,Sb=0-Xv,kb=0+Xv;function Xe(e){return e.max-e.min}function jb(e,t,n){return Math.abs(e-t)<=n}function _f(e,t,n,r=.5){e.origin=r,e.originPoint=ne(t.min,t.max,e.origin),e.scale=Xe(n)/Xe(t),e.translate=ne(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_b&&e.scale<=bb||isNaN(e.scale))&&(e.scale=1),(e.translate>=Sb&&e.translate<=kb||isNaN(e.translate))&&(e.translate=0)}function As(e,t,n,r){_f(e.x,t.x,n.x,r?r.originX:void 0),_f(e.y,t.y,n.y,r?r.originY:void 0)}function bf(e,t,n){e.min=n.min+t.min,e.max=e.min+Xe(t)}function Cb(e,t,n){bf(e.x,t.x,n.x),bf(e.y,t.y,n.y)}function Sf(e,t,n){e.min=t.min-n.min,e.max=e.min+Xe(t)}function Ms(e,t,n){Sf(e.x,t.x,n.x),Sf(e.y,t.y,n.y)}function Pb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ne(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ne(n,e,r.max):Math.min(e,n)),e}function kf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nb(e,{top:t,left:n,bottom:r,right:s}){return{x:kf(e.x,n,s),y:kf(e.y,t,r)}}function jf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Tb(e,t){return{x:jf(e.x,t.x),y:jf(e.y,t.y)}}function Eb(e,t){let n=.5;const r=Xe(e),s=Xe(t);return s>r?n=Br(t.min,t.max-r,e.min):r>s&&(n=Br(e.min,e.max-s,t.min)),_n(0,1,n)}function Db(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Eu=.35;function Ab(e=Eu){return e===!1?e=0:e===!0&&(e=Eu),{x:Cf(e,"left","right"),y:Cf(e,"top","bottom")}}function Cf(e,t,n){return{min:Pf(e,t),max:Pf(e,n)}}function Pf(e,t){return typeof e=="number"?e:e[t]||0}const Nf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sr=()=>({x:Nf(),y:Nf()}),Tf=()=>({min:0,max:0}),le=()=>({x:Tf(),y:Tf()});function tt(e){return[e("x"),e("y")]}function Jv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Mb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ob(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function al(e){return e===void 0||e===1}function Du({scale:e,scaleX:t,scaleY:n}){return!al(e)||!al(t)||!al(n)}function Mn(e){return Du(e)||Zv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zv(e){return Ef(e.x)||Ef(e.y)}function Ef(e){return e&&e!=="0%"}function Wo(e,t,n){const r=e-n,s=t*r;return n+s}function Df(e,t,n,r,s){return s!==void 0&&(e=Wo(e,s,r)),Wo(e,n,r)+t}function Au(e,t=0,n=1,r,s){e.min=Df(e.min,t,n,r,s),e.max=Df(e.max,t,n,r,s)}function ey(e,{x:t,y:n}){Au(e.x,t.translate,t.scale,t.originPoint),Au(e.y,n.translate,n.scale,n.originPoint)}const Af=.999999999999,Mf=1.0000000000001;function Rb(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ey(e,o)),r&&Mn(i.latestValues)&&jr(e,i.latestValues))}t.x<Mf&&t.x>Af&&(t.x=1),t.y<Mf&&t.y>Af&&(t.y=1)}function kr(e,t){e.min=e.min+t,e.max=e.max+t}function Of(e,t,n,r,s=.5){const i=ne(e.min,e.max,s);Au(e,t,n,i,r)}function jr(e,t){Of(e.x,t.x,t.scaleX,t.scale,t.originX),Of(e.y,t.y,t.scaleY,t.scale,t.originY)}function ty(e,t){return Jv(Ob(e.getBoundingClientRect(),t))}function Lb(e,t,n){const r=ty(e,n),{scroll:s}=t;return s&&(kr(r.x,s.offset.x),kr(r.y,s.offset.y)),r}const ny=({current:e})=>e?e.ownerDocument.defaultView:null,Ib=new WeakMap;class Fb{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ma(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gv(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tt(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Nt.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const v=m.layout.layoutBox[w];v&&(g=Xe(v)*(parseFloat(g)/100))}}this.originPoint[w]=g}),y&&K.postRender(()=>y(d,h)),Nu(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=$b(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(d,h)},a=(d,h)=>this.stop(d,h),l=()=>tt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Hv(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ny(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&K.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Pb(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&br(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Nb(s.layoutBox,n):this.constraints=!1,this.elastic=Ab(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Db(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!br(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Lb(r,s.root,this.visualElement.getTransformPagePoint());let o=Tb(s.layout.layoutBox,i);if(n){const a=n(Mb(o));this.hasMutatedConstraints=!!a,a&&(o=Jv(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tt(d=>{if(!zi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Nu(this.visualElement,t),r.start(sd(t,r,0,n,this.visualElement,!1))}stopAnimation(){tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){tt(n=>{const{drag:r}=this.getProps();if(!zi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!br(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};tt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Eb({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tt(o=>{if(!zi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ne(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Ib.set(this.visualElement,this);const t=this.visualElement.current,n=Bt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();br(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),K.read(r);const o=Lt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Eu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $b(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vb extends Cn{constructor(t){super(t),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new Fb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rf=e=>(t,n)=>{e&&K.postRender(()=>e(t,n))};class Bb extends Cn{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(t){this.session=new Hv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ny(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rf(t),onStart:Rf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&K.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Bt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ga=b.createContext(null);function Ub(){const e=b.useContext(ga);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();b.useEffect(()=>r(s),[]);const i=b.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,i]:[!0]}const ud=b.createContext({}),ry=b.createContext({}),fo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const os={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;const n=Lf(e,t.target.x),r=Lf(e,t.target.y);return`${n}% ${r}%`}},zb={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=bn.parse(e);if(s.length>5)return r;const i=bn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=ne(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Ho={};function Wb(e){Object.assign(Ho,e)}const{schedule:cd,cancel:QE}=iv(queueMicrotask,!1);class Hb extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Wb(Yb),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||K.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sy(e){const[t,n]=Ub(),r=b.useContext(ud);return c.jsx(Hb,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(ry),isPresent:t,safeToRemove:n})}const Yb={borderRadius:{...os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:os,borderTopRightRadius:os,borderBottomLeftRadius:os,borderBottomRightRadius:os,boxShadow:zb},iy=["TopLeft","TopRight","BottomLeft","BottomRight"],Kb=iy.length,If=e=>typeof e=="string"?parseFloat(e):e,Ff=e=>typeof e=="number"||O.test(e);function Gb(e,t,n,r,s,i){s?(e.opacity=ne(0,n.opacity!==void 0?n.opacity:1,qb(r)),e.opacityExit=ne(t.opacity!==void 0?t.opacity:1,0,Qb(r))):i&&(e.opacity=ne(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Kb;o++){const a=`border${iy[o]}Radius`;let l=$f(t,a),u=$f(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ff(l)===Ff(u)?(e[a]=Math.max(ne(If(l),If(u),r),0),(Nt.test(u)||Nt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ne(t.rotate||0,n.rotate||0,r))}function $f(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qb=oy(0,.5,hv),Qb=oy(.5,.95,Ne);function oy(e,t,n){return r=>r<e?0:r>t?1:n(Br(e,t,r))}function Vf(e,t){e.min=t.min,e.max=t.max}function et(e,t){Vf(e.x,t.x),Vf(e.y,t.y)}function Bf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Uf(e,t,n,r,s){return e-=t,e=Wo(e,1/n,r),s!==void 0&&(e=Wo(e,1/s,r)),e}function Xb(e,t=0,n=1,r=.5,s,i=e,o=e){if(Nt.test(t)&&(t=parseFloat(t),t=ne(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ne(i.min,i.max,r);e===i&&(a-=t),e.min=Uf(e.min,t,n,a,s),e.max=Uf(e.max,t,n,a,s)}function zf(e,t,[n,r,s],i,o){Xb(e,t[n],t[r],t[s],t.scale,i,o)}const Jb=["x","scaleX","originX"],Zb=["y","scaleY","originY"];function Wf(e,t,n,r){zf(e.x,t,Jb,n?n.x:void 0,r?r.x:void 0),zf(e.y,t,Zb,n?n.y:void 0,r?r.y:void 0)}function Hf(e){return e.translate===0&&e.scale===1}function ay(e){return Hf(e.x)&&Hf(e.y)}function Yf(e,t){return e.min===t.min&&e.max===t.max}function eS(e,t){return Yf(e.x,t.x)&&Yf(e.y,t.y)}function Kf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ly(e,t){return Kf(e.x,t.x)&&Kf(e.y,t.y)}function Gf(e){return Xe(e.x)/Xe(e.y)}function qf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tS{constructor(){this.members=[]}add(t){id(this.members,t),t.scheduleRender()}remove(t){if(od(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nS(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const rS=(e,t)=>e.depth-t.depth;class sS{constructor(){this.children=[],this.isDirty=!1}add(t){id(this.children,t),this.isDirty=!0}remove(t){od(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rS),this.isDirty=!1,this.children.forEach(t)}}function po(e){const t=Pe(e)?e.get():e;return q_(t)?t.toValue():t}function iS(e,t){const n=Tt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(wn(r),e(i-t))};return K.read(r,!0),()=>wn(r)}function oS(e){return e instanceof SVGElement&&e.tagName!=="svg"}function aS(e,t,n){const r=Pe(e)?e:ni(e);return r.start(sd("",r,t,n)),r.animation}const On={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ws=typeof window<"u"&&window.MotionDebug!==void 0,ll=["","X","Y","Z"],lS={visibility:"hidden"},Qf=1e3;let uS=0;function ul(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function uy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",K,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&uy(r)}function cy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=uS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ws&&(On.totalNodes=On.resolvedTargetDeltas=On.recalculatedProjection=0),this.nodes.forEach(hS),this.nodes.forEach(vS),this.nodes.forEach(yS),this.nodes.forEach(fS),ws&&window.MotionDebug.record(On)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sS)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ad),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oS(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=iS(f,250),fo.hasAnimatedSinceResize&&(fo.hasAnimatedSinceResize=!1,this.nodes.forEach(Jf))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||SS,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!ly(this.targetLayout,y)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const _={...Wc(x,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Jf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xS),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xf);return}this.isUpdating||this.nodes.forEach(mS),this.isUpdating=!1,this.nodes.forEach(gS),this.nodes.forEach(cS),this.nodes.forEach(dS),this.clearAllSnapshots();const a=Tt.now();we.delta=_n(0,1e3/60,a-we.timestamp),we.timestamp=a,we.isProcessing=!0,el.update.process(we),el.preRender.process(we),el.render.process(we),we.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pS),this.sharedNodes.forEach(wS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,K.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){K.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ay(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Mn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kS(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return le();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jS))){const{scroll:d}=this.root;d&&(kr(l.x,d.offset.x),kr(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=le();if(et(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&et(l,o),kr(l.x,h.offset.x),kr(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=le();et(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mn(d.latestValues)&&jr(l,d.latestValues)}return Mn(this.latestValues)&&jr(l,this.latestValues),l}removeTransform(o){const a=le();et(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Mn(u.latestValues))continue;Du(u.latestValues)&&u.updateSnapshot();const d=le(),h=u.measurePageBox();et(d,h),Wf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mn(this.latestValues)&&Wf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==we.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=we.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Ms(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):et(this.target,this.layout.layoutBox),ey(this.target,this.targetDelta)):et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Ms(this.relativeTargetOrigin,this.target,p.target),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ws&&On.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Du(this.parent.latestValues)||Zv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===we.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;et(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Rb(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=le());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bf(this.prevProjectionDelta.x,this.projectionDelta.x),Bf(this.prevProjectionDelta.y,this.projectionDelta.y)),As(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!qf(this.projectionDelta.x,this.prevProjectionDelta.x)||!qf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ws&&On.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sr(),this.projectionDelta=Sr(),this.projectionDeltaWithTransform=Sr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Sr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=le(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,w=this.getStack(),g=!w||w.members.length<=1,m=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(bS));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const S=_/1e3;Zf(h.x,o.x,S),Zf(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ms(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_S(this.relativeTarget,this.relativeTargetOrigin,f,S),v&&eS(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=le()),et(v,this.relativeTarget)),x&&(this.animationValues=d,Gb(d,u,this.latestValues,S,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=K.update(()=>{fo.hasAnimatedSinceResize=!0,this.currentAnimation=aS(0,Qf,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&dy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const h=Xe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Xe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}et(a,l),jr(a,d),As(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tS),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&ul("z",o,u,this.animationValues);for(let d=0;d<ll.length;d++)ul(`rotate${ll[d]}`,o,u,this.animationValues),ul(`skew${ll[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lS;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=po(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=po(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mn(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=nS(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Ho){if(f[x]===void 0)continue;const{correct:w,applyTo:g}=Ho[x],m=u.transform==="none"?f[x]:w(f[x],h);if(g){const v=g.length;for(let _=0;_<v;_++)u[g[_]]=m}else u[x]=m}return this.options.layoutId&&(u.pointerEvents=h===this?po(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xf),this.root.sharedNodes.clear()}}}function cS(e){e.updateLayout()}function dS(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?tt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Xe(f);f.min=r[h].min,f.max=f.min+p}):dy(i,n.layoutBox,r)&&tt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Xe(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Sr();As(a,r,n.layoutBox);const l=Sr();o?As(l,e.applyTransform(s,!0),n.measuredBox):As(l,r,n.layoutBox);const u=!ay(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=le();Ms(y,n.layoutBox,f.layoutBox);const x=le();Ms(x,r,p.layoutBox),ly(y,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hS(e){ws&&On.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fS(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pS(e){e.clearSnapshot()}function Xf(e){e.clearMeasurements()}function mS(e){e.isLayoutDirty=!1}function gS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vS(e){e.resolveTargetDelta()}function yS(e){e.calcProjection()}function xS(e){e.resetSkewAndRotation()}function wS(e){e.removeLeadSnapshot()}function Zf(e,t,n){e.translate=ne(t.translate,0,n),e.scale=ne(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ep(e,t,n,r){e.min=ne(t.min,n.min,r),e.max=ne(t.max,n.max,r)}function _S(e,t,n,r){ep(e.x,t.x,n.x,r),ep(e.y,t.y,n.y,r)}function bS(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SS={duration:.45,ease:[.4,0,.1,1]},tp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),np=tp("applewebkit/")&&!tp("chrome/")?Math.round:Ne;function rp(e){e.min=np(e.min),e.max=np(e.max)}function kS(e){rp(e.x),rp(e.y)}function dy(e,t,n){return e==="position"||e==="preserve-aspect"&&!jb(Gf(t),Gf(n),.2)}function jS(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const CS=cy({attachResizeListener:(e,t)=>Lt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cl={current:void 0},hy=cy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cl.current){const e=new CS({});e.mount(window),e.setOptions({layoutScroll:!0}),cl.current=e}return cl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),PS={pan:{Feature:Bb},drag:{Feature:Vb,ProjectionNode:hy,MeasureLayout:sy}};function sp(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||qv())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&K.postRender(()=>l(i,o))};return Bt(e.current,n,s,{passive:!e.getProps()[r]})}class NS extends Cn{mount(){this.unmount=Vt(sp(this.node,!0),sp(this.node,!1))}unmount(){}}class TS extends Cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vt(Lt(this.node.current,"focus",()=>this.onFocus()),Lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fy=(e,t)=>t?e===t?!0:fy(e,t.parentElement):!1;function dl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ma(n))}class ES extends Cn{constructor(){super(...arguments),this.removeStartListeners=Ne,this.removeEndListeners=Ne,this.removeAccessibleListeners=Ne,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Bt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!fy(this.node.current,a.target)?d:u;f&&K.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Bt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Vt(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||dl("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&K.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Lt(this.node.current,"keyup",o),dl("down",(a,l)=>{this.startPress(a,l)})},n=Lt(this.node.current,"keydown",t),r=()=>{this.isPressing&&dl("cancel",(i,o)=>this.cancelPress(i,o))},s=Lt(this.node.current,"blur",r);this.removeAccessibleListeners=Vt(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&K.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qv()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&K.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Bt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Lt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vt(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Mu=new WeakMap,hl=new WeakMap,DS=e=>{const t=Mu.get(e.target);t&&t(e)},AS=e=>{e.forEach(DS)};function MS({root:e,...t}){const n=e||document;hl.has(n)||hl.set(n,{});const r=hl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(AS,{root:e,...t})),r[s]}function OS(e,t,n){const r=MS(t);return Mu.set(e,n),r.observe(e),()=>{Mu.delete(e),r.unobserve(e)}}const RS={some:0,all:1};class LS extends Cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:RS[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return OS(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IS(t,n))&&this.startObserver()}unmount(){}}function IS({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const FS={inView:{Feature:LS},tap:{Feature:ES},focus:{Feature:TS},hover:{Feature:NS}},$S={layout:{ProjectionNode:hy,MeasureLayout:sy}},dd=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),va=b.createContext({}),hd=typeof window<"u",py=hd?b.useLayoutEffect:b.useEffect,my=b.createContext({strict:!1});function VS(e,t,n,r,s){var i,o;const{visualElement:a}=b.useContext(va),l=b.useContext(my),u=b.useContext(ga),d=b.useContext(dd).reducedMotion,h=b.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=b.useContext(ry);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&BS(h.current,n,s,p);const y=b.useRef(!1);b.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const x=n[Vv],w=b.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return py(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),cd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),w.current=!1))}),f}function BS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&br(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function gy(e){if(e)return e.options.allowProjection!==!1?e.projection:gy(e.parent)}function US(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):br(n)&&(n.current=r))},[t])}function ya(e){return ha(e.animate)||zc.some(t=>Zs(e[t]))}function vy(e){return!!(ya(e)||e.variants)}function zS(e,t){if(ya(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zs(n)?n:void 0,animate:Zs(r)?r:void 0}}return e.inherit!==!1?t:{}}function WS(e){const{initial:t,animate:n}=zS(e,b.useContext(va));return b.useMemo(()=>({initial:t,animate:n}),[ip(t),ip(n)])}function ip(e){return Array.isArray(e)?e.join(" "):e}const op={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ur={};for(const e in op)Ur[e]={isEnabled:t=>op[e].some(n=>!!t[n])};function HS(e){for(const t in e)Ur[t]={...Ur[t],...e[t]}}const YS=Symbol.for("motionComponentSymbol");function KS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&HS(e);function i(a,l){let u;const d={...b.useContext(dd),...a,layoutId:GS(a)},{isStatic:h}=d,f=WS(a),p=r(a,h);if(!h&&hd){qS();const y=QS(d);u=y.MeasureLayout,f.visualElement=VS(s,p,d,t,y.ProjectionNode)}return c.jsxs(va.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,US(p,f.visualElement,l),p,h,f.visualElement)]})}const o=b.forwardRef(i);return o[YS]=s,o}function GS({layoutId:e}){const t=b.useContext(ud).id;return t&&e!==void 0?t+"-"+e:e}function qS(e,t){b.useContext(my).strict}function QS(e){const{drag:t,layout:n}=Ur;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const XS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fd(e){return typeof e!="string"||e.includes("-")?!1:!!(XS.indexOf(e)>-1||/[A-Z]/u.test(e))}function yy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const xy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wy(e,t,n,r){yy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(xy.has(s)?s:ld(s),t.attrs[s])}function _y(e,{layout:t,layoutId:n}){return er.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ho[e]||e==="opacity")}function pd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Pe(s[o])||t.style&&Pe(t.style[o])||_y(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function by(e,t,n){const r=pd(e,t,n);for(const s in e)if(Pe(e[s])||Pe(t[s])){const i=hi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function md(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}function JS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:ZS(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Sy=e=>(t,n)=>{const r=b.useContext(va),s=b.useContext(ga),i=()=>JS(e,t,r,s);return n?i():md(i)};function ZS(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=po(i[f]);let{initial:o,animate:a}=e;const l=ya(e),u=vy(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!ha(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const y=Bc(e,f[p]);if(y){const{transitionEnd:x,transition:w,...g}=y;for(const m in g){let v=g[m];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(s[m]=v)}for(const m in x)s[m]=x[m]}}}return s}const gd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ky=()=>({...gd(),attrs:{}}),jy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ek={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tk=hi.length;function nk(e,t,n){let r="",s=!0;for(let i=0;i<tk;i++){const o=hi[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=jy(a,Xc[o]);if(!l){s=!1;const d=ek[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function vd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(er.has(l)){o=!0;continue}else if(vv(l)){s[l]=u;continue}else{const d=jy(u,Xc[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=nk(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}function ap(e,t,n){return typeof e=="string"?e:O.transform(t+n*e)}function rk(e,t,n){const r=ap(t,e.x,e.width),s=ap(n,e.y,e.height);return`${r} ${s}`}const sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},ik={offset:"strokeDashoffset",array:"strokeDasharray"};function ok(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?sk:ik;e[i.offset]=O.transform(-r);const o=O.transform(t),a=O.transform(n);e[i.array]=`${o} ${a}`}function yd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(vd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:y}=e;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=rk(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&ok(f,o,a,l,!1)}const xd=e=>typeof e=="string"&&e.toLowerCase()==="svg",ak={useVisualState:Sy({scrapeMotionValuesFromProps:by,createRenderState:ky,onMount:(e,t,{renderState:n,latestValues:r})=>{K.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),K.render(()=>{yd(n,r,xd(t.tagName),e.transformTemplate),wy(t,n)})}})},lk={useVisualState:Sy({scrapeMotionValuesFromProps:pd,createRenderState:gd})};function Cy(e,t,n){for(const r in t)!Pe(t[r])&&!_y(r,n)&&(e[r]=t[r])}function uk({transformTemplate:e},t){return b.useMemo(()=>{const n=gd();return vd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ck(e,t){const n=e.style||{},r={};return Cy(r,n,e),Object.assign(r,uk(e,t)),r}function dk(e,t){const n={},r=ck(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hk.has(e)}let Py=e=>!Yo(e);function fk(e){e&&(Py=t=>t.startsWith("on")?!Yo(t):e(t))}try{fk(require("@emotion/is-prop-valid").default)}catch{}function pk(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Py(s)||n===!0&&Yo(s)||!t&&!Yo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function mk(e,t,n,r){const s=b.useMemo(()=>{const i=ky();return yd(i,t,xd(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Cy(i,e.style,e),s.style={...i,...s.style}}return s}function gk(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(fd(n)?mk:dk)(r,i,o,n),u=pk(r,typeof n=="string",e),d=n!==b.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=b.useMemo(()=>Pe(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function vk(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...fd(r)?ak:lk,preloadedFeatures:e,useRender:gk(s),createVisualElement:t,Component:r};return KS(o)}}const Ou={current:null},Ny={current:!1};function yk(){if(Ny.current=!0,!!hd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ou.current=e.matches;e.addListener(t),t()}else Ou.current=!1}function xk(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Pe(s))e.addValue(r,s);else if(Pe(i))e.addValue(r,ni(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ni(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lp=new WeakMap,wk=[...wv,je,bn],_k=e=>wk.find(xv(e)),up=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bk{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Tt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,K.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ya(n),this.isVariantNode=vy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&Pe(p)&&p.set(l[f],!1)}}mount(t){this.current=t,lp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ny.current||yk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ou.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lp.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=er.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&K.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ur){const n=Ur[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<up.length;r++){const s=up[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=xk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ni(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(mv(s)||pv(s))?s=parseFloat(s):!_k(s)&&bn.test(n)&&(s=Nv(t,n)),this.setBaseTarget(t,Pe(s)?s.get():s)),Pe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Bc(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Pe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ad),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ty extends bk{constructor(){super(...arguments),this.KeyframeResolver=Tv}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function Sk(e){return window.getComputedStyle(e)}class kk extends Ty{constructor(){super(...arguments),this.type="html",this.renderInstance=yy}readValueFromInstance(t,n){if(er.has(n)){const r=Jc(n);return r&&r.default||0}else{const r=Sk(t),s=(vv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ty(t,n)}build(t,n,r){vd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return pd(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class jk extends Ty{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(er.has(n)){const r=Jc(n);return r&&r.default||0}return n=xy.has(n)?n:ld(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return by(t,n,r)}build(t,n,r){yd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){wy(t,n,r,s)}mount(t){this.isSVGTag=xd(t.tagName),super.mount(t)}}const Ck=(e,t)=>fd(e)?new jk(t):new kk(t,{allowProjection:e!==b.Fragment}),Pk=vk({...gb,...FS,...PS,...$S},Ck),qe=a1(Pk);class Nk extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tk({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(dd);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(Nk,{isPresent:t,childRef:r,sizeRef:s,children:b.cloneElement(e,{ref:r})})}const Ek=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=md(Dk),l=b.useId(),u=b.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=b.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return b.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(Tk,{isPresent:n,children:e})),c.jsx(ga.Provider,{value:d,children:e})};function Dk(){return new Map}const Wi=e=>e.key||"";function cp(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const ri=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=b.useMemo(()=>cp(e),[e]),l=a.map(Wi),u=b.useRef(!0),d=b.useRef(a),h=md(()=>new Map),[f,p]=b.useState(a),[y,x]=b.useState(a);py(()=>{u.current=!1,d.current=a;for(let m=0;m<y.length;m++){const v=Wi(y[m]);l.includes(v)?h.delete(v):h.get(v)!==!0&&h.set(v,!1)}},[y,l.length,l.join("-")]);const w=[];if(a!==f){let m=[...a];for(let v=0;v<y.length;v++){const _=y[v],S=Wi(_);l.includes(S)||(m.splice(v,0,_),w.push(_))}o==="wait"&&w.length&&(m=w),x(cp(m)),p(a);return}const{forceRender:g}=b.useContext(ud);return c.jsx(c.Fragment,{children:y.map(m=>{const v=Wi(m),_=a===y||l.includes(v),S=()=>{if(h.has(v))h.set(v,!0);else return;let j=!0;h.forEach(C=>{C||(j=!1)}),j&&(g==null||g(),x(d.current),s&&s())};return c.jsx(Ek,{isPresent:_,initial:!u.current||r?void 0:!1,custom:_?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:_?void 0:S,children:m},v)})})},Ak="modulepreload",Mk=function(e){return"/"+e},dp={},zr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Mk(l),l in dp)return;dp[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ak,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ok=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class wd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Rk extends wd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lk extends wd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ik extends wd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ru;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ru||(Ru={}));var Fk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class $k{constructor(t,{headers:n={},customFetch:r,region:s=Ru.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ok(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Fk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new Rk(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Lk(d);if(!d.ok)throw new Ik(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ve={},_d={},xa={},mi={},wa={},_a={},Vk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=Vk();const Bk=Wr.fetch,Ey=Wr.fetch.bind(Wr),Dy=Wr.Headers,Uk=Wr.Request,zk=Wr.Response,Qr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dy,Request:Uk,Response:zk,default:Ey,fetch:Bk},Symbol.toStringTag,{value:"Module"})),Wk=O0(Qr);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});class Hk extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}ba.default=Hk;var Ay=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});const Yk=Ay(Wk),Kk=Ay(ba);let Gk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Yk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&x===""?(f=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new Kk.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};_a.default=Gk;var qk=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});const Qk=qk(_a);let Xk=class extends Qk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wa.default=Xk;var Jk=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mi,"__esModule",{value:!0});const Zk=Jk(wa);let ej=class extends Zk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};mi.default=ej;var tj=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});const as=tj(mi);let nj=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new as.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new as.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new as.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new as.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xa.default=nj;var Sa={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.version=void 0;ka.version="0.0.0-automated";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.DEFAULT_HEADERS=void 0;const rj=ka;Sa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rj.version}`};var My=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});const sj=My(xa),ij=My(mi),oj=Sa;let aj=class Oy{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},oj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new sj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Oy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ij.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_d.default=aj;var Xr=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Ry=Xr(_d);Ve.PostgrestClient=Ry.default;const Ly=Xr(xa);Ve.PostgrestQueryBuilder=Ly.default;const Iy=Xr(mi);Ve.PostgrestFilterBuilder=Iy.default;const Fy=Xr(wa);Ve.PostgrestTransformBuilder=Fy.default;const $y=Xr(_a);Ve.PostgrestBuilder=$y.default;const Vy=Xr(ba);Ve.PostgrestError=Vy.default;var lj=Ve.default={PostgrestClient:Ry.default,PostgrestQueryBuilder:Ly.default,PostgrestFilterBuilder:Iy.default,PostgrestTransformBuilder:Fy.default,PostgrestBuilder:$y.default,PostgrestError:Vy.default};const{PostgrestClient:uj,PostgrestQueryBuilder:n2,PostgrestFilterBuilder:r2,PostgrestTransformBuilder:s2,PostgrestBuilder:i2}=lj,cj="2.10.7",dj={"X-Client-Info":`realtime-js/${cj}`},hj="1.0.0",By=1e4,fj=1e3;var Ar;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ar||(Ar={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var Lu;(function(e){e.websocket="websocket"})(Lu||(Lu={}));var In;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(In||(In={}));class pj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Uy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const hp=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=mj(o,e,t,s),i),{})},mj=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?zy(i,o):Iu(o)},zy=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xj(t,n)}switch(e){case G.bool:return gj(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return vj(t);case G.json:case G.jsonb:return yj(t);case G.timestamp:return wj(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Iu(t);default:return Iu(t)}},Iu=e=>e,gj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>zy(t,a))}return e},wj=e=>typeof e=="string"?e.replace(" ","T"):e,Wy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fl{constructor(t,n,r={},s=By){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fp||(fp={}));class Os{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Os.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Os.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),x.length>0&&(l[u]=x)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pp||(pp={}));var mp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mp||(mp={}));var gp;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gp||(gp={}));class bd{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fl(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Uy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Os(this),this.broadcastEndpointURL=Wy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<p;x++){const w=f[x],{filter:{event:g,schema:m,table:v,filter:_}}=w,S=d&&d[x];if(S&&S.event===g&&S.schema===m&&S.table===v&&S.filter===_)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new fl(this,pt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,x,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,x,w,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:w,commit_timestamp:g,type:m,errors:v}=y;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bd.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hp(t.columns,t.old_record)),n}}const _j=()=>{},bj=typeof WebSocket<"u",Sj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kj{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dj,this.params={},this.timeout=By,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_j,this.conn=null,this.sendBuffer=[],this.serializer=new pj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>zr(async()=>{const{default:l}=await Promise.resolve().then(()=>Qr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Lu.websocket}`,this.httpEndpoint=Wy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Uy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(bj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new jj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),zr(async()=>{const{default:t}=await import("./browser-z-G1yzRN.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return In.Connecting;case Ar.open:return In.Open;case Ar.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}channel(t,n={config:{}}){const r=new bd(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(pt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hj}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(fj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Sj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class jj{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ar.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cj extends Sd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fu extends Sd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Pj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Nj=()=>Pj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zr(()=>Promise.resolve().then(()=>Qr),void 0)).Response:Response}),$u=e=>{if(Array.isArray(e))return e.map(n=>$u(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$u(r)}),t};var tr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tj=(e,t,n)=>tr(void 0,void 0,void 0,function*(){const r=yield Nj();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Cj(pl(s),e.status||500))}).catch(s=>{t(new Fu(pl(s),s))}):t(new Fu(pl(e),e))}),Ej=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function gi(e,t,n,r,s,i){return tr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Ej(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Tj(l,a,r))})})}function Ko(e,t,n,r){return tr(this,void 0,void 0,function*(){return gi(e,"GET",t,n,r)})}function nn(e,t,n,r,s){return tr(this,void 0,void 0,function*(){return gi(e,"POST",t,r,s,n)})}function Dj(e,t,n,r,s){return tr(this,void 0,void 0,function*(){return gi(e,"PUT",t,r,s,n)})}function Aj(e,t,n,r){return tr(this,void 0,void 0,function*(){return gi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yy(e,t,n,r,s){return tr(this,void 0,void 0,function*(){return gi(e,"DELETE",t,r,s,n)})}var Fe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Mj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oj{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hy(s)}uploadOrUpdate(t,n,r,s){return Fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:vp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Sd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Fe(this,void 0,void 0,function*(){try{const s=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(t,n){return Fe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ko(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ko(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$u(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Aj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof Fu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return Fe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mj),n),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Rj="2.7.1",Lj={"X-Client-Info":`storage-js/${Rj}`};var ir=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ij{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Lj),n),this.fetch=Hy(r)}listBuckets(){return ir(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ir(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ir(this,void 0,void 0,function*(){try{return{data:yield Dj(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}}class Fj extends Ij{constructor(t,n={},r){super(t,n,r)}from(t){return new Oj(this.url,this.headers,t,this.fetch)}}const $j="2.46.1";let _s="";typeof Deno<"u"?_s="deno":typeof document<"u"?_s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_s="react-native":_s="node";const Vj={"X-Client-Info":`supabase-js-${_s}/${$j}`},Bj={headers:Vj},Uj={schema:"public"},zj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wj={};var Hj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Yj=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ey:t=fetch,(...n)=>t(...n)},Kj=()=>typeof Headers>"u"?Dy:Headers,Gj=(e,t,n)=>{const r=Yj(n),s=Kj();return(i,o)=>Hj(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var qj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Qj(e){return e.replace(/\/$/,"")}function Xj(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>qj(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Ky="2.65.1",Jj="http://localhost:9999",Zj="supabase.auth.token",eC={"X-Client-Info":`gotrue-js/${Ky}`},yp=10,Vu="X-Supabase-Api-Version",Gy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function tC(e){return Math.round(Date.now()/1e3)+e}function nC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dt=()=>typeof document<"u",En={tested:!1,writable:!1},Rs=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function ml(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const qy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qy=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yi=async(e,t)=>{await e.removeItem(t)};function sC(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class ja{constructor(){this.promise=new ja.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ja.promiseConstructor=Promise;function xp(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(sC(r))}async function iC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oC(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function aC(e){return("0"+e.toString(16)).substr(-2)}function lC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,aC).join("")}async function uC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function cC(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uC(e);return cC(n)}async function or(e,t,n=!1){const r=lC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Qy(e,`${t}-code-verifier`,s);const i=await dC(r);return[i,r===i?"plain":"s256"]}const hC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fC(e){const t=e.headers.get(Vu);if(!t||!t.match(hC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class kd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pC extends kd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mC(e){return $(e)&&e.name==="AuthApiError"}class Xy extends kd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class nr extends kd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Jt extends nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gC(e){return $(e)&&e.name==="AuthSessionMissingError"}class gl extends nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends nr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wp extends nr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bu extends nr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function vl(e){return $(e)&&e.name==="AuthRetryableFetchError"}class _p extends nr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var vC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yC=[502,503,504];async function bp(e){var t;if(!rC(e))throw new Bu(Rn(e),0);if(yC.includes(e.status))throw new Bu(Rn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xy(Rn(i),i)}let r;const s=fC(e);if(s&&s.getTime()>=Gy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _p(Rn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _p(Rn(n),e.status,n.weak_password.reasons);throw new pC(Rn(n),e.status||500,r)}const xC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Vu]||(i[Vu]=Gy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await wC(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wC(e,t,n,r,s,i){const o=xC(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Bu(Rn(l),0)}if(a.ok||await bp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await bp(l)}}function Zt(e){var t;let n=null;kC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tC(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Sp(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function on(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _C(e){return{data:e,error:null}}function bC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=vC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function SC(e){return e}function kC(e){return e.access_token&&e.refresh_token&&e.expires_in}var jC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class CC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=qy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:on})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SC});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:on})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const PC={getItem:e=>Rs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Rs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Rs()&&globalThis.localStorage.removeItem(e)}};function kp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function NC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ar={debug:!!(globalThis&&Rs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TC extends Jy{}async function EC(e,t,n){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}NC();const DC={url:Jj,storageKey:Zj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ls=30*1e3,jp=3;async function Cp(e,t,n){return await n()}class si{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=si.nextInstanceID,si.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},DC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new CC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qy(s.fetch),this.lock=s.lock||Cp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EC:this.lock=Cp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Rs()?this.storage=PC:(this.memoryStorage={},this.storage=kp(this.memoryStorage)):(this.memoryStorage={},this.storage=kp(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ky}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=dt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $(t)?{error:t}:{error:new Xy("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await or(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Zt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zt})}else throw new Ki("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sp})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Hi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zt});if(await Yi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await or(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ki("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Zt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await or(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_C})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Jt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:on}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:on})})}catch(n){if($(n))return gC(n)&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Jt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await or(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:on});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return xp(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=xp(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Jt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!dt())throw new Gi("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Gi("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new wp("Not a valid PKCE flow url.");const n=ml(window.location.href);if(t){if(!n.code)throw new wp("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(n.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Gi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=n;if(!i||!a||!o||!u)throw new Gi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:n.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=ml(window.location.href);return!!(dt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=ml(window.location.href),n=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(mC(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nC(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await or(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oC(async s=>(s>0&&await iC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vl(i)&&Date.now()+o-r<ls})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+yp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yp}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),vl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ja;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return vl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Yi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ls);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ls}ms, refresh threshold is ${jp} ticks`),s<=jp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await or(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}si.nextInstanceID=0;const AC=si;class MC extends AC{constructor(t){super(t)}}var OC=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class RC{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Qj(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Uj,realtime:Wj,auth:Object.assign(Object.assign({},zj),{storageKey:l}),global:Bj},d=Xj(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Gj(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new uj(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new $k(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fj(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return OC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MC({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new kj(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LC=(e,t,n)=>new RC(e,t,n),IC="https://guquxpxxycfmmlqajdyw.supabase.co",FC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd1cXV4cHh4eWNmbW1scWFqZHl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MzczOTYsImV4cCI6MjA0NzUxMzM5Nn0.CaOsAbm7eALs22atCPtsaGSWc5h6QZ8ly8Bar_O3N8Y",A=LC(IC,FC,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Timezone":"Europe/Lisbon"},fetch:(e,t={})=>fetch(e,{...t,signal:AbortSignal.timeout(1e4)}).catch(async n=>(console.warn("Fetch failed, retrying...",n),await new Promise(r=>setTimeout(r,1e3)),fetch(e,t)))},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>b.createElement("svg",{ref:d,...$C,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${VC(e)}`,a].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ie("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ie("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ie("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ie("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nP(){const[e,t]=b.useState([]),n=b.useRef(null),[r,s]=b.useState({width:0,height:0}),[i,o]=b.useState(!1),[a,l]=b.useState(""),[u,d]=b.useState(""),[h,f]=b.useState(null),[p,y]=b.useState(!1);b.useEffect(()=>{const g=()=>{if(n.current){const{width:m,height:v}=n.current.getBoundingClientRect();s({width:Math.floor(m/12),height:Math.floor(v/20)})}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),b.useEffect(()=>{if(r.width===0||r.height===0)return;const g=[],m=r.width*2+r.height*2,_=1500/m;for(let C=0;C<r.width;C++)g.push("═");for(let C=0;C<r.height;C++)g.push("║");for(let C=0;C<r.width;C++)g.push("═");for(let C=0;C<r.height;C++)g.push("║");g[0]="╔",g[r.width-1]="╗",g[r.width+r.height-1]="╝",g[r.width*2+r.height-1]="╚";let S=0;const j=setInterval(()=>{S<m?(t(C=>[...C,g[S]]),S++,S===m&&setTimeout(()=>o(!0),500)):clearInterval(j)},_);return()=>clearInterval(j)},[r]);const x=g=>{const{width:m,height:v}=r,_=m,S=v;return g<_?{left:`${g/_*100}%`,top:"0"}:g<_+S?{right:"0",top:`${(g-_)/S*100}%`}:g<_*2+S?{right:`${(g-(_+S))/_*100}%`,bottom:"0"}:{left:"0",bottom:`${(g-(_*2+S))/S*100}%`}},w=async g=>{g.preventDefault(),f(null),y(!0);try{const{error:m}=await A.auth.signUp({email:a,password:u,options:{data:{has_applied:!1}}});if((m==null?void 0:m.message)==="User already registered"){const{error:v}=await A.auth.signInWithPassword({email:a,password:u});if(v)throw v}else if(m)throw m}catch(m){console.error("Error:",m),f(m instanceof Error?m.message:"An unexpected error occurred")}finally{y(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:c.jsxs("div",{className:"relative w-[80vw] max-w-[1000px] h-[80vh]",ref:n,children:[e.map((g,m)=>c.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.05},className:"absolute font-mono text-garden-gold text-xl",style:{...x(m),transform:"translate(-50%, -50%)"},children:g},m)),c.jsx(ri,{children:i&&c.jsx(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-md p-8",children:c.jsxs("div",{className:"bg-black p-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[c.jsx(t0,{className:"w-6 h-6 text-garden-gold"}),c.jsx("h1",{className:"text-xl font-mono text-garden-gold",children:"Create or Remember"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-6",children:[c.jsx("div",{children:c.jsx("input",{type:"email",value:a,onChange:g=>l(g.target.value),className:"w-full bg-black text-garden-gold border-2 border-garden-gold p-3 font-mono focus:outline-none focus:ring-2 focus:ring-garden-gold placeholder-garden-gold/50 pixel-corners",placeholder:"Email",required:!0,autoComplete:"off",spellCheck:"false",style:{WebkitTextFillColor:"#FFBF00"}})}),c.jsx("div",{children:c.jsx("input",{type:"password",value:u,onChange:g=>d(g.target.value),className:"w-full bg-black text-garden-gold border-2 border-garden-gold p-3 font-mono focus:outline-none focus:ring-2 focus:ring-garden-gold placeholder-garden-gold/50 pixel-corners",placeholder:"Password",required:!0,style:{WebkitTextFillColor:"#FFBF00"}})}),h&&c.jsx("div",{className:"font-mono text-red-500 text-sm",children:h}),c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-garden-gold text-black p-3 font-mono hover:bg-garden-accent transition-colors disabled:opacity-50 disabled:cursor-not-allowed pixel-corners",children:p?"Processing...":"Enter"})]})]})})})})]})})}function rP(){return c.jsx(nP,{})}const sP=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"];function iP({question:e,value:t,onChange:n,onAutoAdvance:r}){const s=e.order_number===1;if(e.text.toLowerCase().includes("mbti"))return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-display",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("div",{className:"grid grid-cols-4 gap-4",children:sP.map(o=>c.jsx("button",{onClick:()=>n(o),className:`p-4 pixel-corners transition-all ${t===o?"bg-garden-gold text-garden-dark":"bg-garden-dark/30 hover:bg-garden-gold/20"}`,children:o},o))})]});if(e.type==="radio"&&e.options){const o=Array.isArray(e.options)?e.options:JSON.parse(e.options),a=l=>{n(l),s&&l==="Yes"&&r&&r()};return c.jsxs("div",{className:"space-y-6",children:[s?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-6 text-xl leading-relaxed mb-12",children:[c.jsx("p",{children:"This is a curated place, unlike any other."}),c.jsx("p",{children:"We seek those with the attention span & curiosity to complete this application. This is a filter, not a funnel. If we lose you, that's OK."}),c.jsx("p",{children:"We prefer a smaller group of aligned people over filling our space just to reach the capacity limit."}),c.jsx("p",{children:"We're not impressed by your followers, fortune, or fame [though none of those exclude you]. We seek the realest —curious, brave, caring, weird, and sensitive."})]}),c.jsx("h3",{className:"text-2xl font-display",children:"Do you consent to your data being stored and reviewed for this residency?"})]}):c.jsxs("h3",{className:"text-2xl font-display",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("div",{className:"space-y-4",children:o.map(l=>{const u=t===l;return c.jsxs("label",{className:`flex items-center p-6 pixel-corners cursor-pointer transition-all ${u?"bg-garden-gold/20":"hover:bg-garden-gold/10"}`,children:[c.jsx("div",{className:`flex-shrink-0 w-8 h-8 pixel-corners mr-4 flex items-center justify-center transition-colors ${u?"border-2 border-garden-gold bg-garden-gold":"border-2 border-garden-gold"}`,children:u&&c.jsx(zC,{className:"w-5 h-5 text-garden-dark"})}),c.jsx("input",{type:"radio",name:`question-${e.order_number}`,value:l,checked:u,onChange:()=>a(l),className:"sr-only",required:e.required}),c.jsx("span",{className:"text-xl",children:l})]},l)})})]})}return e.type==="textarea"?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-display",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:t||"",onChange:o=>n(o.target.value),className:"w-full min-h-[200px] p-6 bg-garden-dark/30 text-xl pixel-corners retro-input",required:e.required,placeholder:"Type your answer here..."}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-garden-gold/30 transition-all duration-300 group-focus-within:h-2 group-focus-within:opacity-100"})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-display",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:e.type,value:t||"",onChange:o=>n(o.target.value),className:"w-full p-6 bg-garden-dark/30 text-xl pixel-corners retro-input",required:e.required,placeholder:`Enter your ${e.text.toLowerCase()}`}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-garden-gold/30 transition-all duration-300 group-focus-within:h-2 group-focus-within:opacity-100"})]})]})}function oP({questions:e,onSubmit:t}){const[n,r]=b.useState({}),[s,i]=b.useState(!1),[o,a]=b.useState(0),l=async g=>{g.preventDefault(),i(!0);try{await t(n)}finally{i(!1)}},u=(g,m)=>{r(v=>({...v,[g]:m}))},d=async()=>{await A.auth.signOut()},h=()=>{a(g=>Math.min(p.length-1,g+1))},f=e.reduce((g,m)=>{const v=m.section||"Other";return g[v]||(g[v]=[]),g[v].push(m),g},{}),p=Object.keys(f),y=p[o],x=f[y]||[],w=(o+1)/p.length*100;return c.jsx("div",{className:"min-h-screen bg-garden-dark text-garden-gold font-mono p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs(qe.div,{className:"flex items-center justify-between mb-16",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Cd,{className:"w-16 h-16"}),c.jsx("pre",{className:"absolute -top-2 -right-2 text-[8px] text-garden-gold/60",children:"╔═╗ ║*║ ╚═╝"})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-display mb-2",children:"The Garden"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full bg-garden-gold/20 h-1",children:c.jsx(qe.div,{className:"h-full bg-garden-gold",initial:{width:0},animate:{width:`${w}%`},transition:{duration:.3}})}),c.jsx("pre",{className:"absolute -right-4 -top-1 text-[8px] text-garden-gold/60",children:"►►►"})]})]})]}),c.jsxs("button",{onClick:d,className:"group flex items-center gap-2 px-4 py-2 text-garden-gold hover:text-garden-accent transition-colors pixel-corners relative",children:[c.jsx(QC,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign Out"}),c.jsx("pre",{className:"absolute -bottom-4 left-0 text-[8px] text-garden-gold/40 group-hover:text-garden-gold/60 transition-colors",children:"└──┘"})]})]}),c.jsxs("div",{className:"relative flex gap-8 mb-12 overflow-x-auto pb-4 scrollbar-thin",children:[p.map((g,m)=>c.jsxs("button",{onClick:()=>a(m),className:`text-2xl font-display whitespace-nowrap transition-all group ${m===o?"text-garden-gold scale-110":"text-garden-gold/40 hover:text-garden-gold/60"}`,children:[g.charAt(0).toUpperCase()+g.slice(1),m===o&&c.jsx("pre",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 text-[8px] text-garden-gold/60",children:"▲"})]},g)),c.jsx("pre",{className:"absolute -bottom-2 left-0 right-0 text-[8px] text-garden-gold/20",children:"═".repeat(100)})]}),c.jsx(ri,{mode:"wait",children:c.jsx(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-12",children:x.map(g=>c.jsx("div",{className:"space-y-6",children:c.jsx(iP,{question:g,value:n[g.order_number],onChange:m=>u(g.order_number,m),onAutoAdvance:h})},g.order_number))},y)}),c.jsxs("div",{className:"fixed bottom-8 right-8 left-8 flex justify-between items-center max-w-2xl mx-auto",children:[c.jsxs("button",{type:"button",onClick:()=>a(g=>Math.max(0,g-1)),className:`group px-6 py-3 text-lg font-display transition-all ${o===0?"opacity-0 pointer-events-none":"text-garden-gold hover:text-garden-accent"}`,children:[c.jsx("span",{children:"Previous"}),c.jsx("pre",{className:"absolute -bottom-2 left-0 text-[8px] text-garden-gold/40 group-hover:text-garden-gold/60",children:"◄──"})]}),o===p.length-1?c.jsxs("button",{type:"submit",disabled:s,onClick:l,className:"group flex items-center gap-2 bg-garden-gold text-garden-dark px-8 py-4 text-xl font-display hover:bg-garden-accent transition-colors pixel-corners relative",children:[s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-garden-dark border-t-transparent"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(JC,{className:"w-6 h-6"}),"Submit"]}),c.jsx("pre",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 text-[8px] text-garden-gold/60 group-hover:text-garden-gold",children:"▲▲▲"})]}):c.jsxs("button",{type:"button",onClick:()=>a(g=>Math.min(p.length-1,g+1)),className:"group flex items-center gap-2 text-garden-gold hover:text-garden-accent px-6 py-3 text-lg font-display transition-all",children:[c.jsx("span",{children:"Next"}),c.jsx(Zy,{className:"w-5 h-5"}),c.jsx("pre",{className:"absolute -bottom-2 right-0 text-[8px] text-garden-gold/40 group-hover:text-garden-gold/60",children:"──►"})]})]}),c.jsx("div",{className:"fixed bottom-4 left-4 text-garden-gold/20",children:c.jsx(t0,{className:"w-6 h-6"})})]})})}const aP=`████████╗██╗  ██╗███████╗     ██████╗  █████╗ ██████╗ ██████╗ ███████╗███╗   ██╗
╚══██╔══╝██║  ██║██╔════╝    ██╔════╝ ██╔══██╗██╔══██╗██╔══██╗██╔════╝████╗  ██║
   ██║   ███████║█████╗      ██║  ███╗███████║██████╔╝██║  ██║█████╗  ██╔██╗ ██║
   ██║   ██╔══██║██╔══╝      ██║   ██║██╔══██║██╔══██╗██║  ██║██╔══╝  ██║╚██╗██║
   ██║   ██║  ██║███████╗    ╚██████╔╝██║  ██║██║  ██║██████╔╝███████╗██║ ╚████║
   ╚═╝   ╚═╝  ╚═╝╚══════╝     ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═════╝ ╚══════╝╚═╝  ╚═══╝`;function lP({onComplete:e}){const[t,n]=b.useState([]),[r,s]=b.useState(0),[i,o]=b.useState(0);return b.useEffect(()=>{n(aP.split(`
`))},[]),b.useEffect(()=>{if(t.length===0||r>=t.length)return;const a=t[r];if(i>=a.length){setTimeout(()=>{s(u=>u+1),o(0)},100);return}const l=setTimeout(()=>{o(u=>u+1)},7);return()=>clearTimeout(l)},[t,r,i]),b.useEffect(()=>{r>=t.length&&t.length>0&&setTimeout(e,500)},[r,t.length,e]),c.jsx(qe.div,{className:"min-h-screen bg-garden-dark flex items-center justify-center font-mono",children:c.jsx("pre",{className:"text-garden-gold whitespace-pre",children:t.slice(0,r).map((a,l)=>c.jsx("div",{children:l===r-1?a.slice(0,i):a},l))})})}function uP(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(!0);b.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l,error:u}=await A.from("application_questions").select("*").order("order_number");if(u)throw u;t(l||[])}catch(l){console.error("Error loading questions:",l)}finally{r(!1)}},a=async l=>{var u;try{const{data:{user:d}}=await A.auth.getUser();if(!d)throw new Error("Not authenticated");const h=((u=l[9])==null?void 0:u.answer)==="Yes",f=h?l[9].partnerName:null,p=h?l[9].partnerEmail:null,{data:y,error:x}=await A.from("applications").insert({user_id:d.id,data:l,status:"pending"}).select().single();if(x)throw x;if(h&&f&&p&&y){const{error:g}=await A.from("linked_applications").insert({primary_application_id:y.id,linked_name:f,linked_email:p});if(g)throw g}const{error:w}=await A.auth.updateUser({data:{has_applied:!0,application_status:"pending"}});if(w)throw w;await A.auth.refreshSession()}catch(d){throw console.error("Error submitting application:",d),d}};return n?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-garden-gold"})}):s?c.jsx(lP,{onComplete:()=>i(!1)}):c.jsx(oP,{questions:e,onSubmit:a})}function cP({status:e="pending"}){return c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white rounded-2xl shadow-sm border border-stone-200 p-8",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[c.jsx(Cd,{className:"w-12 h-12 text-emerald-900"}),c.jsx("h1",{className:"text-3xl font-display font-light text-stone-900",children:e==="pending"?"Application Pending":"Application Not Accepted"}),c.jsx("p",{className:"text-stone-600 leading-relaxed",children:e==="pending"?"Thank you for applying to The Garden. Your application is currently being reviewed. We'll notify you by email once a decision has been made.":"Unfortunately, your application was not accepted at this time. We appreciate your interest in The Garden and wish you the best in your journey."}),c.jsx("button",{onClick:()=>A.auth.signOut(),className:"w-full bg-emerald-900 text-white py-3 px-6 rounded-lg hover:bg-emerald-800 transition-colors",children:"Sign Out"})]})})})}function F(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Re(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ae(e,t){const n=F(e);return isNaN(t)?Re(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function wt(e,t){const n=F(e);if(isNaN(t))return Re(e,NaN);if(!t)return n;const r=n.getDate(),s=Re(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function dP(e){return F(e).getDay()===6}function hP(e){return F(e).getDay()===0}function yl(e){const t=F(e).getDay();return t===0||t===6}function Pp(e,t){const n=F(e),r=yl(n);if(isNaN(t))return Re(e,NaN);const s=n.getHours(),i=1,o=Math.trunc(t/5);n.setDate(n.getDate()+o*7);let a=Math.abs(t%5);for(;a>0;)n.setDate(n.getDate()+i),yl(n)||(a-=1);return r&&yl(n)&&t!==0&&(dP(n)&&n.setDate(n.getDate()+-1),hP(n)&&n.setDate(n.getDate()+-2)),n.setHours(s),n}function fP(e,t){const n=+F(e);return Re(e,n+t)}const Pd=6048e5,pP=864e5,n0=6e4,Nd=36e5;function mP(e,t){return fP(e,t*Nd)}let gP={};function vi(){return gP}function Et(e,t){var a,l,u,d;const n=vi(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=F(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Qn(e){return Et(e,{weekStartsOn:1})}function r0(e){const t=F(e),n=t.getFullYear(),r=Re(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Qn(r),i=Re(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Qn(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Xn(e){const t=F(e);return t.setHours(0,0,0,0),t}function Go(e){const t=F(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gt(e,t){const n=Xn(e),r=Xn(t),s=+n-Go(n),i=+r-Go(r);return Math.round((s-i)/pP)}function vP(e){const t=r0(e),n=Re(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qn(n)}function Wu(e,t){const n=t*7;return Ae(e,n)}function yP(e,t){return wt(e,t*12)}function xP(e){let t;return e.forEach(function(n){const r=F(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function wP(e){let t;return e.forEach(n=>{const r=F(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Me(e,t){const n=Xn(e),r=Xn(t);return+n==+r}function Td(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _P(e){if(!Td(e)&&typeof e!="number")return!1;const t=F(e);return!isNaN(Number(t))}function ii(e,t){const n=F(e),r=F(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function bP(e,t,n){const r=Et(e,n),s=Et(t,n),i=+r-Go(r),o=+s-Go(s);return Math.round((i-o)/Pd)}function s0(e,t){const n=F(e),r=F(t),s=Np(n,r),i=Math.abs(gt(n,r));n.setDate(n.getDate()-s*i);const o=+(Np(n,r)===-s),a=s*(i-o);return a===0?0:a}function Np(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function oi(e){const t=F(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function SP(e,t){const n=F(e.start),r=F(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(F(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function Te(e){const t=F(e);return t.setDate(1),t.setHours(0,0,0,0),t}function i0(e){const t=F(e),n=Re(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ed(e,t){var a,l,u,d;const n=vi(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=F(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function o0(e){return Ed(e,{weekStartsOn:1})}const kP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jP=(e,t,n)=>{let r;const s=kP[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const CP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TP={date:xl({formats:CP,defaultWidth:"full"}),time:xl({formats:PP,defaultWidth:"full"}),dateTime:xl({formats:NP,defaultWidth:"full"})},EP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DP=(e,t,n,r)=>EP[e];function us(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const AP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FP=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$P={ordinalNumber:FP,era:us({values:AP,defaultWidth:"wide"}),quarter:us({values:MP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:us({values:OP,defaultWidth:"wide"}),day:us({values:RP,defaultWidth:"wide"}),dayPeriod:us({values:LP,defaultWidth:"wide",formattingValues:IP,defaultFormattingWidth:"wide"})};function cs(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?BP(a,h=>h.test(o)):VP(a,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function VP(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function BP(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function UP(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const zP=/^(\d+)(th|st|nd|rd)?/i,WP=/\d+/i,HP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YP={any:[/^b/i,/^(a|c)/i]},KP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GP={any:[/1/i,/2/i,/3/i,/4/i]},qP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tN={ordinalNumber:UP({matchPattern:zP,parsePattern:WP,valueCallback:e=>parseInt(e,10)}),era:cs({matchPatterns:HP,defaultMatchWidth:"wide",parsePatterns:YP,defaultParseWidth:"any"}),quarter:cs({matchPatterns:KP,defaultMatchWidth:"wide",parsePatterns:GP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cs({matchPatterns:qP,defaultMatchWidth:"wide",parsePatterns:QP,defaultParseWidth:"any"}),day:cs({matchPatterns:XP,defaultMatchWidth:"wide",parsePatterns:JP,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:ZP,defaultMatchWidth:"any",parsePatterns:eN,defaultParseWidth:"any"})},a0={code:"en-US",formatDistance:jP,formatLong:TP,formatRelative:DP,localize:$P,match:tN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nN(e){const t=F(e);return gt(t,i0(t))+1}function l0(e){const t=F(e),n=+Qn(t)-+vP(t);return Math.round(n/Pd)+1}function u0(e,t){var d,h,f,p;const n=F(e),r=n.getFullYear(),s=vi(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=Re(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Et(o,t),l=Re(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Et(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function rN(e,t){var a,l,u,d;const n=vi(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=u0(e,t),i=Re(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Et(i,t)}function c0(e,t){const n=F(e),r=+Et(n,t)-+rN(n,t);return Math.round(r/Pd)+1}function H(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const qt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return H(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):H(n+1,2)},d(e,t){return H(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return H(e.getHours()%12||12,t.length)},H(e,t){return H(e.getHours(),t.length)},m(e,t){return H(e.getMinutes(),t.length)},s(e,t){return H(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return H(s,t.length)}},lr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tp={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qt.y(e,t)},Y:function(e,t,n,r){const s=u0(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return H(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):H(i,t.length)},R:function(e,t){const n=r0(e);return H(n,t.length)},u:function(e,t){const n=e.getFullYear();return H(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return H(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return H(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return qt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return H(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=c0(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):H(s,t.length)},I:function(e,t,n){const r=l0(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):H(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):qt.d(e,t)},D:function(e,t,n){const r=nN(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):H(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return H(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return H(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return H(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=lr.noon:r===0?s=lr.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=lr.evening:r>=12?s=lr.afternoon:r>=4?s=lr.morning:s=lr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):qt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):H(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):H(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):qt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):qt.s(e,t)},S:function(e,t){return qt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Dp(r);case"XXXX":case"XX":return Ln(r);case"XXXXX":case"XXX":default:return Ln(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Dp(r);case"xxxx":case"xx":return Ln(r);case"xxxxx":case"xxx":default:return Ln(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ep(r,":");case"OOOO":default:return"GMT"+Ln(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ep(r,":");case"zzzz":default:return"GMT"+Ln(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return H(r,t.length)},T:function(e,t,n){const r=e.getTime();return H(r,t.length)}};function Ep(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+H(i,2)}function Dp(e,t){return e%60===0?(e>0?"-":"+")+H(Math.abs(e)/60,2):Ln(e,t)}function Ln(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=H(Math.trunc(r/60),2),i=H(r%60,2);return n+s+t+i}const Ap=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},d0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sN=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ap(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Ap(r,t)).replace("{{time}}",d0(s,t))},iN={p:d0,P:sN},oN=/^D+$/,aN=/^Y+$/,lN=["D","DD","YY","YYYY"];function uN(e){return oN.test(e)}function cN(e){return aN.test(e)}function dN(e,t,n){const r=hN(e,t,n);if(console.warn(r),lN.includes(e))throw new RangeError(r)}function hN(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mN=/^'([^]*?)'?$/,gN=/''/g,vN=/[a-zA-Z]/;function fe(e,t,n){var d,h,f,p,y,x,w,g;const r=vi(),s=(n==null?void 0:n.locale)??r.locale??a0,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((g=(w=r.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,a=F(e);if(!_P(a))throw new RangeError("Invalid time value");let l=t.match(pN).map(m=>{const v=m[0];if(v==="p"||v==="P"){const _=iN[v];return _(m,s.formatLong)}return m}).join("").match(fN).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:yN(m)};if(Tp[v])return{isToken:!0,value:m};if(v.match(vN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&cN(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&uN(v))&&dN(v,t,String(e));const _=Tp[v[0]];return _(a,v,s.localize,u)}).join("")}function yN(e){const t=e.match(mN);return t?t[1].replace(gN,"'"):e}function xN(e){const t=F(e),n=t.getFullYear(),r=t.getMonth(),s=Re(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function wN(e){return Math.trunc(+F(e)/1e3)}function _N(e){const t=F(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function bN(e,t){return bP(_N(e),Te(e),t)+1}function Hu(e,t){const n=F(e),r=F(t);return n.getTime()>r.getTime()}function h0(e,t){const n=F(e),r=F(t);return+n<+r}function Dd(e,t){const n=F(e),r=F(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function SN(e,t){const n=F(e),r=F(t);return n.getFullYear()===r.getFullYear()}function Yu(e,t){const n=+F(e),[r,s]=[+F(t.start),+F(t.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function wl(e,t){return Ae(e,-t)}function an(e,t){const r=PN(e);let s;if(r.date){const l=NN(r.date,2);s=TN(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=EN(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=DN(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const qi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,CN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PN(e){const t={},n=e.split(qi.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],qi.timeZoneDelimiter.test(t.date)&&(t.date=e.split(qi.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=qi.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function NN(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function TN(e,t){if(t===null)return new Date(NaN);const n=e.match(kN);if(!n)return new Date(NaN);const r=!!n[4],s=ds(n[1]),i=ds(n[2])-1,o=ds(n[3]),a=ds(n[4]),l=ds(n[5])-1;if(r)return LN(t,a,l)?AN(t,a,l):new Date(NaN);{const u=new Date(0);return!ON(t,i,o)||!RN(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function ds(e){return e?parseInt(e):1}function EN(e){const t=e.match(jN);if(!t)return NaN;const n=_l(t[1]),r=_l(t[2]),s=_l(t[3]);return IN(n,r,s)?n*Nd+r*n0+s*1e3:NaN}function _l(e){return e&&parseFloat(e.replace(",","."))||0}function DN(e){if(e==="Z")return 0;const t=e.match(CN);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return FN(r,s)?n*(r*Nd+s*n0):NaN}function AN(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const MN=[31,null,31,30,31,30,31,31,30,31,30,31];function f0(e){return e%400===0||e%4===0&&e%100!==0}function ON(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(MN[t]||(f0(e)?29:28))}function RN(e,t){return t>=1&&t<=(f0(e)?366:365)}function LN(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function IN(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function FN(e,t){return t>=0&&t<=59}function bl(e,t){const n=F(e),r=n.getFullYear(),s=n.getDate(),i=Re(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=xN(i);return n.setMonth(t,Math.min(s,o)),n}function Mp(e,t){const n=F(e);return isNaN(+n)?Re(e,NaN):(n.setFullYear(t),n)}async function $N(e,t,n,r){const{data:{user:s}}=await A.auth.getUser();if(!s)throw new Error("User not authenticated");try{const{data:i,error:o}=await A.from("availability").select("*").eq("accommodation_id",e).in("status",["BOOKED","HOLD"]).gte("date",t.toISOString().split("T")[0]).lt("date",n.toISOString().split("T")[0]);if(o)throw o;if(i&&i.length>0)throw new Error("Selected dates are not available");const{data:a,error:l}=await A.from("profiles").select("credits").eq("id",s.id).single();if(l)throw l;if(!a||a.credits<r)throw new Error("Insufficient credits");const{data:u,error:d}=await A.from("bookings").insert({accommodation_id:e,user_id:s.id,check_in:t.toISOString(),check_out:n.toISOString(),total_price:r,status:"confirmed"}).select("*").single();if(d)throw d;const{error:h}=await A.from("profiles").update({credits:a.credits-r}).eq("id",s.id);if(h)throw h;const{error:f}=await A.from("credits").insert({user_id:s.id,amount:-r,description:`Booking for accommodation ${e}`,booking_id:u.id});if(f)throw f;const p=[],y=new Date(t);for(;y<n;)p.push(y.toISOString().split("T")[0]),y.setDate(y.getDate()+1);const{error:x}=await A.from("availability").insert(p.map(w=>({accommodation_id:e,date:w,status:"BOOKED"})));if(x)throw x;return u}catch(i){throw console.error("Error creating booking:",i),i}}async function VN(){const{data:{user:e}}=await A.auth.getUser();if(!e)throw new Error("User not authenticated");try{const{data:t,error:n}=await A.from("bookings").select(`
        id,
        *,
        accommodations (
          title,
          location,
          image_url,
          price
        )
      `).eq("user_id",e.id).order("check_in",{ascending:!0});if(n)throw n;return t}catch(t){throw console.error("Error fetching user bookings:",t),t}}function p0(){const[e,t]=b.useState(0),[n,r]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o();const a=A.channel("profile_changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${A.auth.getUser().then(({data:l})=>{var u;return(u=l.user)==null?void 0:u.id})}`},()=>{o()}).subscribe();return()=>{a.unsubscribe()}},[]);const o=async()=>{try{r(!0);const{data:{user:a}}=await A.auth.getUser();if(!a){t(0);return}const{data:l,error:u}=await A.from("profiles").select("credits").eq("id",a.id).single();if(u)throw u;t((l==null?void 0:l.credits)||0)}catch(a){console.error("Error loading credits:",a),i(a instanceof Error?a:new Error("Failed to load credits"))}finally{r(!1)}};return{credits:e,loading:n,error:s,refresh:o}}function BN(){const[e,t]=st.useState([]),[n,r]=st.useState(!0),[s,i]=st.useState(null),{credits:o,loading:a}=p0();st.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const u=await VN();t(u||[])}catch(u){console.error("Error loading bookings:",u),i(u instanceof Error?u.message:"Failed to load bookings")}finally{r(!1)}};return n||a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})})}):s?c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:c.jsx("div",{className:"bg-rose-50 text-rose-600 p-4 rounded-lg",children:s})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-display font-light text-stone-900",children:"My Bookings"}),c.jsx("div",{className:"bg-emerald-50 px-4 py-2 rounded-lg",children:c.jsxs("span",{className:"text-emerald-900 font-medium",children:["Credits: €",o]})})]}),e.length===0?c.jsx("div",{className:"text-center text-stone-600",children:"No bookings found. Book your first stay!"}):c.jsx("div",{className:"space-y-6",children:e.map(u=>c.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-stone-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-display font-light mb-2",children:u.accommodations.title}),c.jsx("p",{className:"text-stone-600 mb-4",children:u.accommodations.location}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Check-in:"})," ",fe(new Date(u.check_in),"PPP")]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Check-out:"})," ",fe(new Date(u.check_out),"PPP")]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Total Price:"})," ","€",u.total_price]})]})]}),c.jsx("img",{src:u.accommodations.image_url,alt:u.accommodations.title,className:"w-32 h-32 object-cover rounded-lg"})]})},u.id))})]})}var L=function(){return L=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L.apply(this,arguments)};function UN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function m0(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function yi(e){return e.mode==="multiple"}function xi(e){return e.mode==="range"}function Ca(e){return e.mode==="single"}var zN={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function WN(e,t){return fe(e,"LLLL y",t)}function HN(e,t){return fe(e,"d",t)}function YN(e,t){return fe(e,"LLLL",t)}function KN(e){return"".concat(e)}function GN(e,t){return fe(e,"cccccc",t)}function qN(e,t){return fe(e,"yyyy",t)}var QN=Object.freeze({__proto__:null,formatCaption:WN,formatDay:HN,formatMonthCaption:YN,formatWeekNumber:KN,formatWeekdayName:GN,formatYearCaption:qN}),XN=function(e,t,n){return fe(e,"do MMMM (EEEE)",n)},JN=function(){return"Month: "},ZN=function(){return"Go to next month"},eT=function(){return"Go to previous month"},tT=function(e,t){return fe(e,"cccc",t)},nT=function(e){return"Week n. ".concat(e)},rT=function(){return"Year: "},sT=Object.freeze({__proto__:null,labelDay:XN,labelMonthDropdown:JN,labelNext:ZN,labelPrevious:eT,labelWeekNumber:nT,labelWeekday:tT,labelYearDropdown:rT});function iT(){var e="buttons",t=zN,n=a0,r={},s={},i=1,o={},a=new Date;return{captionLayout:e,classNames:t,formatters:QN,labels:sT,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function oT(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Te(r):t&&(i=new Date(t,0,1)),s?o=oi(s):n&&(o=new Date(n,11,31)),{fromDate:i?Xn(i):void 0,toDate:o?Xn(o):void 0}}var g0=b.createContext(void 0);function aT(e){var t,n=e.initialProps,r=iT(),s=oT(n),i=s.fromDate,o=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(Ca(n)||yi(n)||xi(n))&&(l=n.onSelect);var u=L(L(L({},r),n),{captionLayout:a,classNames:L(L({},r.classNames),n.classNames),components:L({},n.components),formatters:L(L({},r.formatters),n.formatters),fromDate:i,labels:L(L({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:L(L({},r.modifiers),n.modifiers),modifiersClassNames:L(L({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:L(L({},r.styles),n.styles),toDate:o});return c.jsx(g0.Provider,{value:u,children:e.children})}function Q(){var e=b.useContext(g0);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function v0(e){var t=Q(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function lT(e){return c.jsx("svg",L({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function y0(e){var t,n,r=e.onChange,s=e.value,i=e.children,o=e.caption,a=e.className,l=e.style,u=Q(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:lT;return c.jsxs("div",{className:a,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),c.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function uT(e){var t,n=Q(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});var h=[];if(SN(r,s))for(var f=Te(r),p=r.getMonth();p<=s.getMonth();p++)h.push(bl(f,p));else for(var f=Te(new Date),p=0;p<=11;p++)h.push(bl(f,p));var y=function(w){var g=Number(w.target.value),m=bl(Te(e.displayMonth),g);e.onChange(m)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:y0;return c.jsx(x,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:o}),children:h.map(function(w){return c.jsx("option",{value:w.getMonth(),children:a(w,{locale:o})},w.getMonth())})})}function cT(e){var t,n=e.displayMonth,r=Q(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),x=p;x<=y;x++)f.push(Mp(i0(new Date),x));var w=function(m){var v=Mp(Te(n),Number(m.target.value));e.onChange(v)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:y0;return c.jsx(g,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:w,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(m){return c.jsx("option",{value:m.getFullYear(),children:d(m,{locale:o})},m.getFullYear())})})}function dT(e,t){var n=b.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function hT(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,o=e.fromDate,a=e.numberOfMonths,l=a===void 0?1:a;if(i&&ii(i,s)<0){var u=-1*(l-1);s=wt(i,u)}return o&&ii(s,o)<0&&(s=o),Te(s)}function fT(){var e=Q(),t=hT(e),n=dT(t,e.month),r=n[0],s=n[1],i=function(o){var a;if(!e.disableNavigation){var l=Te(o);s(l),(a=e.onMonthChange)===null||a===void 0||a.call(e,l)}};return[r,i]}function pT(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Te(e),i=Te(wt(s,r)),o=ii(i,s),a=[],l=0;l<o;l++){var u=wt(s,l);a.push(u)}return n&&(a=a.reverse()),a}function mT(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Te(e);if(!n)return wt(a,o);var l=ii(n,e);if(!(l<i))return wt(a,o)}}function gT(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Te(e);if(!n)return wt(a,-o);var l=ii(a,n);if(!(l<=0))return wt(a,-o)}}var x0=b.createContext(void 0);function vT(e){var t=Q(),n=fT(),r=n[0],s=n[1],i=pT(r,t),o=mT(r,t),a=gT(r,t),l=function(h){return i.some(function(f){return Dd(h,f)})},u=function(h,f){l(h)||(f&&h0(h,f)?s(wt(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:o,isDateDisplayed:l};return c.jsx(x0.Provider,{value:d,children:e.children})}function wi(){var e=b.useContext(x0);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Op(e){var t,n=Q(),r=n.classNames,s=n.styles,i=n.components,o=wi().goToMonth,a=function(d){o(wt(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:v0,u=c.jsx(l,{id:e.id,displayMonth:e.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(uT,{onChange:a,displayMonth:e.displayMonth}),c.jsx(cT,{onChange:a,displayMonth:e.displayMonth})]})}function yT(e){return c.jsx("svg",L({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xT(e){return c.jsx("svg",L({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var qo=b.forwardRef(function(e,t){var n=Q(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),a=L(L({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),c.jsx("button",L({},e,{ref:t,type:"button",className:o,style:a}))});function wT(e){var t,n,r=Q(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,u=l.labelPrevious,d=l.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return c.jsx(c.Fragment,{});var f=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),w=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:xT,g=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:yT;return c.jsxs("div",{className:o.nav,style:a.nav,children:[!e.hidePrevious&&c.jsx(qo,{name:"previous-month","aria-label":f,className:p,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?c.jsx(w,{className:o.nav_icon,style:a.nav_icon}):c.jsx(g,{className:o.nav_icon,style:a.nav_icon})}),!e.hideNext&&c.jsx(qo,{name:"next-month","aria-label":y,className:x,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?c.jsx(g,{className:o.nav_icon,style:a.nav_icon}):c.jsx(w,{className:o.nav_icon,style:a.nav_icon})})]})}function Rp(e){var t=Q().numberOfMonths,n=wi(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(y){return Dd(e.displayMonth,y)}),l=a===0,u=a===o.length-1,d=t>1&&(l||!u),h=t>1&&(u||!l),f=function(){r&&i(r)},p=function(){s&&i(s)};return c.jsx(wT,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:p})}function _T(e){var t,n=Q(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:v0,u;return s?u=c.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=c.jsx(Op,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(Op,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c.jsx(Rp,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(Rp,{displayMonth:e.displayMonth,id:e.id})]}),c.jsx("div",{className:r.caption,style:i.caption,children:u})}function bT(e){var t=Q(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?c.jsx("tfoot",{className:s,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function ST(e,t,n){for(var r=n?Qn(new Date):Et(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=Ae(r,i);s.push(o)}return s}function kT(){var e=Q(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,a=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=ST(s,i,o);return c.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},h)})]})}function jT(){var e,t=Q(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:kT;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(i,{})})}function CT(e){var t=Q(),n=t.locale,r=t.formatters.formatDay;return c.jsx(c.Fragment,{children:r(e.date,{locale:n})})}var Ad=b.createContext(void 0);function PT(e){if(!yi(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c.jsx(Ad.Provider,{value:t,children:e.children})}return c.jsx(NT,{initialProps:e.initialProps,children:e.children})}function NT(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,o=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var w=r?m0([],r):[];if(d.selected){var g=w.findIndex(function(m){return Me(u,m)});w.splice(g,1)}else w.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,w,u,d,h)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Me(f,u)});return!!(d&&!h)});var l={selected:r,onDayClick:o,modifiers:a};return c.jsx(Ad.Provider,{value:l,children:n})}function Md(){var e=b.useContext(Ad);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function TT(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Me(s,e)&&Me(r,e)?void 0:Me(s,e)?{from:s,to:void 0}:Me(r,e)?void 0:Hu(r,e)?{from:e,to:s}:{from:r,to:e}:s?Hu(e,s)?{from:s,to:e}:{from:e,to:s}:r?h0(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Od=b.createContext(void 0);function ET(e){if(!xi(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(Od.Provider,{value:t,children:e.children})}return c.jsx(DT,{initialProps:e.initialProps,children:e.children})}function DT(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,o=s.to,a=t.min,l=t.max,u=function(p,y,x){var w,g;(w=t.onDayClick)===null||w===void 0||w.call(t,p,y,x);var m=TT(p,r);(g=t.onSelect)===null||g===void 0||g.call(t,m,p,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Me(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:wl(i,a-1),before:Ae(i,a-1)}),i&&o&&d.disabled.push({after:i,before:Ae(i,a-1)}),!i&&o&&d.disabled.push({after:wl(o,a-1),before:Ae(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:Ae(i,-l+1)}),d.disabled.push({after:Ae(i,l-1)})),i&&o){var h=gt(o,i)+1,f=l-h;d.disabled.push({before:wl(i,f)}),d.disabled.push({after:Ae(o,f)})}!i&&o&&(d.disabled.push({before:Ae(o,-l+1)}),d.disabled.push({after:Ae(o,l-1)}))}return c.jsx(Od.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Rd(){var e=b.useContext(Od);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function mo(e){return Array.isArray(e)?m0([],e):e!==void 0?[e]:[]}function AT(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=mo(s)}),t}var _t;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(_t||(_t={}));var MT=_t.Selected,Dt=_t.Disabled,OT=_t.Hidden,RT=_t.Today,Sl=_t.RangeEnd,kl=_t.RangeMiddle,jl=_t.RangeStart,LT=_t.Outside;function IT(e,t,n){var r,s=(r={},r[MT]=mo(e.selected),r[Dt]=mo(e.disabled),r[OT]=mo(e.hidden),r[RT]=[e.today],r[Sl]=[],r[kl]=[],r[jl]=[],r[LT]=[],r);return e.fromDate&&s[Dt].push({before:e.fromDate}),e.toDate&&s[Dt].push({after:e.toDate}),yi(e)?s[Dt]=s[Dt].concat(t.modifiers[Dt]):xi(e)&&(s[Dt]=s[Dt].concat(n.modifiers[Dt]),s[jl]=n.modifiers[jl],s[kl]=n.modifiers[kl],s[Sl]=n.modifiers[Sl]),s}var w0=b.createContext(void 0);function FT(e){var t=Q(),n=Md(),r=Rd(),s=IT(t,n,r),i=AT(t.modifiers),o=L(L({},s),i);return c.jsx(w0.Provider,{value:o,children:e.children})}function _0(){var e=b.useContext(w0);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function $T(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function VT(e){return!!(e&&typeof e=="object"&&"from"in e)}function BT(e){return!!(e&&typeof e=="object"&&"after"in e)}function UT(e){return!!(e&&typeof e=="object"&&"before"in e)}function zT(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function WT(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=gt(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=gt(e,r)>=0&&gt(s,e)>=0;return o}return s?Me(s,e):r?Me(r,e):!1}function HT(e){return Td(e)}function YT(e){return Array.isArray(e)&&e.every(Td)}function KT(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(HT(n))return Me(e,n);if(YT(n))return n.includes(e);if(VT(n))return WT(e,n);if(zT(n))return n.dayOfWeek.includes(e.getDay());if($T(n)){var r=gt(n.before,e),s=gt(n.after,e),i=r>0,o=s<0,a=Hu(n.before,n.after);return a?o&&i:i||o}return BT(n)?gt(e,n.after)>0:UT(n)?gt(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ld(e,t,n){var r=Object.keys(t).reduce(function(i,o){var a=t[o];return KT(e,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Dd(e,n)&&(s.outside=!0),s}function GT(e,t){for(var n=Te(e[0]),r=oi(e[e.length-1]),s,i,o=n;o<=r;){var a=Ld(o,t),l=!a.disabled&&!a.hidden;if(!l){o=Ae(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=Ae(o,1)}return i||s}var qT=365;function b0(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,o=t.retry,a=o===void 0?{count:0,lastFocused:e}:o,l=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:Ae,week:Wu,month:wt,year:yP,startOfWeek:function(w){return s.ISOWeek?Qn(w):Et(w,{locale:h,weekStartsOn:l})},endOfWeek:function(w){return s.ISOWeek?o0(w):Ed(w,{locale:h,weekStartsOn:l})}},p=f[n](e,r==="after"?1:-1);r==="before"&&u?p=xP([u,p]):r==="after"&&d&&(p=wP([d,p]));var y=!0;if(i){var x=Ld(p,i);y=!x.disabled&&!x.hidden}return y?p:a.count>qT?a.lastFocused:b0(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:L(L({},a),{count:a.count+1})})}var S0=b.createContext(void 0);function QT(e){var t=wi(),n=_0(),r=b.useState(),s=r[0],i=r[1],o=b.useState(),a=o[0],l=o[1],u=GT(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,h=function(){l(s),i(void 0)},f=function(w){i(w)},p=Q(),y=function(w,g){if(s){var m=b0(s,{moveBy:w,direction:g,context:p,modifiers:n});Me(s,m)||(t.goToDate(m,s),f(m))}},x={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return c.jsx(S0.Provider,{value:x,children:e.children})}function Id(){var e=b.useContext(S0);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function XT(e,t){var n=_0(),r=Ld(e,n,t);return r}var Fd=b.createContext(void 0);function JT(e){if(!Ca(e.initialProps)){var t={selected:void 0};return c.jsx(Fd.Provider,{value:t,children:e.children})}return c.jsx(ZT,{initialProps:e.initialProps,children:e.children})}function ZT(e){var t=e.initialProps,n=e.children,r=function(i,o,a){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,a),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,a)},s={selected:t.selected,onDayClick:r};return c.jsx(Fd.Provider,{value:s,children:n})}function k0(){var e=b.useContext(Fd);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function eE(e,t){var n=Q(),r=k0(),s=Md(),i=Rd(),o=Id(),a=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,x=o.focusYearBefore,w=o.focusYearAfter,g=o.focusStartOfWeek,m=o.focusEndOfWeek,v=function(E){var k,R,I,X;Ca(n)?(k=r.onDayClick)===null||k===void 0||k.call(r,e,t,E):yi(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,E):xi(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,e,t,E):(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,E)},_=function(E){var k;f(e),(k=n.onDayFocus)===null||k===void 0||k.call(n,e,t,E)},S=function(E){var k;h(),(k=n.onDayBlur)===null||k===void 0||k.call(n,e,t,E)},j=function(E){var k;(k=n.onDayMouseEnter)===null||k===void 0||k.call(n,e,t,E)},C=function(E){var k;(k=n.onDayMouseLeave)===null||k===void 0||k.call(n,e,t,E)},P=function(E){var k;(k=n.onDayPointerEnter)===null||k===void 0||k.call(n,e,t,E)},M=function(E){var k;(k=n.onDayPointerLeave)===null||k===void 0||k.call(n,e,t,E)},T=function(E){var k;(k=n.onDayTouchCancel)===null||k===void 0||k.call(n,e,t,E)},V=function(E){var k;(k=n.onDayTouchEnd)===null||k===void 0||k.call(n,e,t,E)},W=function(E){var k;(k=n.onDayTouchMove)===null||k===void 0||k.call(n,e,t,E)},pe=function(E){var k;(k=n.onDayTouchStart)===null||k===void 0||k.call(n,e,t,E)},oe=function(E){var k;(k=n.onDayKeyUp)===null||k===void 0||k.call(n,e,t,E)},_i=function(E){var k;switch(E.key){case"ArrowLeft":E.preventDefault(),E.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":E.preventDefault(),E.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":E.preventDefault(),E.stopPropagation(),u();break;case"ArrowUp":E.preventDefault(),E.stopPropagation(),d();break;case"PageUp":E.preventDefault(),E.stopPropagation(),E.shiftKey?x():p();break;case"PageDown":E.preventDefault(),E.stopPropagation(),E.shiftKey?w():y();break;case"Home":E.preventDefault(),E.stopPropagation(),g();break;case"End":E.preventDefault(),E.stopPropagation(),m();break}(k=n.onDayKeyDown)===null||k===void 0||k.call(n,e,t,E)},rr={onClick:v,onFocus:_,onBlur:S,onKeyDown:_i,onKeyUp:oe,onMouseEnter:j,onMouseLeave:C,onPointerEnter:P,onPointerLeave:M,onTouchCancel:T,onTouchEnd:V,onTouchMove:W,onTouchStart:pe};return rr}function tE(){var e=Q(),t=k0(),n=Md(),r=Rd(),s=Ca(e)?t.selected:yi(e)?n.selected:xi(e)?r.selected:void 0;return s}function nE(e){return Object.values(_t).includes(e)}function rE(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(nE(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function sE(e,t){var n=L({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=L(L({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function iE(e,t,n){var r,s,i,o=Q(),a=Id(),l=XT(e,t),u=eE(e,l),d=tE(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var j;l.outside||a.focusedDay&&h&&Me(a.focusedDay,e)&&((j=n.current)===null||j===void 0||j.focus())},[a.focusedDay,e,n,h,l.outside]);var f=rE(o,l).join(" "),p=sE(o,l),y=!!(l.outside&&!o.showOutsideDays||l.hidden),x=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:CT,w=c.jsx(x,{date:e,displayMonth:t,activeModifiers:l}),g={style:p,className:f,children:w,role:"gridcell"},m=a.focusTarget&&Me(a.focusTarget,e)&&!l.outside,v=a.focusedDay&&Me(a.focusedDay,e),_=L(L(L({},g),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=v||m?0:-1,r)),u),S={isButton:h,isHidden:y,activeModifiers:l,selectedDays:d,buttonProps:_,divProps:g};return S}function oE(e){var t=b.useRef(null),n=iE(e.date,e.displayMonth,t);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(qo,L({name:"day",ref:t},n.buttonProps)):c.jsx("div",L({},n.divProps))}function aE(e){var t=e.number,n=e.dates,r=Q(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return c.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=l(Number(t),{locale:a}),f=function(p){s(t,n,p)};return c.jsx(qo,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function lE(e){var t,n,r=Q(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:oE,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:aE,d;return o&&(d=c.jsx("td",{className:i.cell,style:s.cell,children:c.jsx(u,{number:e.weekNumber,dates:e.dates})})),c.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return c.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:c.jsx(l,{displayMonth:e.displayMonth,date:h})},wN(h))})]})}function Lp(e,t,n){for(var r=n!=null&&n.ISOWeek?o0(t):Ed(t,n),s=n!=null&&n.ISOWeek?Qn(e):Et(e,n),i=gt(r,s),o=[],a=0;a<=i;a++)o.push(Ae(s,a));var l=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?l0(d):c0(d,n),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function uE(e,t){var n=Lp(Te(e),oi(e),t);if(t!=null&&t.useFixedWeeks){var r=bN(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Wu(i,6-r),a=Lp(Wu(i,1),o,t);n.push.apply(n,a)}}return n}function cE(e){var t,n,r,s=Q(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,y=uE(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),x=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:jT,w=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:lE,g=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:bT;return c.jsxs("table",{id:e.id,className:o.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&c.jsx(x,{}),c.jsx("tbody",{className:o.tbody,style:a.tbody,children:y.map(function(m){return c.jsx(w,{displayMonth:e.displayMonth,dates:m.dates,weekNumber:m.weekNumber},m.weekNumber)})}),c.jsx(g,{displayMonth:e.displayMonth})]})}function dE(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hE=dE()?b.useLayoutEffect:b.useEffect,Cl=!1,fE=0;function Ip(){return"react-day-picker-".concat(++fE)}function pE(e){var t,n=e??(Cl?Ip():null),r=b.useState(n),s=r[0],i=r[1];return hE(function(){s===null&&i(Ip())},[]),b.useEffect(function(){Cl===!1&&(Cl=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function mE(e){var t,n,r=Q(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=wi().displayMonths,u=pE(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,p=e.displayIndex===0,y=e.displayIndex===l.length-1,x=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(h.push(i.caption_start),f=L(L({},f),o.caption_start)),y&&(h.push(i.caption_end),f=L(L({},f),o.caption_end)),x&&(h.push(i.caption_between),f=L(L({},f),o.caption_between));var w=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:_T;return c.jsxs("div",{className:h.join(" "),style:f,children:[c.jsx(w,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(cE,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function gE(e){var t=Q(),n=t.classNames,r=t.styles;return c.jsx("div",{className:n.months,style:r.months,children:e.children})}function vE(e){var t,n,r=e.initialProps,s=Q(),i=Id(),o=wi(),a=b.useState(!1),l=a[0],u=a[1];b.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=L(L({},s.styles.root),s.style),f=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var w;return L(L({},y),(w={},w[x]=r[x],w))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:gE;return c.jsx("div",L({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:c.jsx(p,{children:o.displayMonths.map(function(y,x){return c.jsx(mE,{displayIndex:x,displayMonth:y},x)})})}))}function yE(e){var t=e.children,n=UN(e,["children"]);return c.jsx(aT,{initialProps:n,children:c.jsx(vT,{children:c.jsx(JT,{initialProps:n,children:c.jsx(PT,{initialProps:n,children:c.jsx(ET,{initialProps:n,children:c.jsx(FT,{children:c.jsx(QT,{children:t})})})})})})})}function Hr(e){return c.jsx(yE,L({},e,{children:c.jsx(vE,{initialProps:e})}))}function Fp(e){const[t,n]=b.useState(!1);return b.useEffect(()=>{const r=window.matchMedia(e);n(r.matches);const s=i=>{n(i.matches)};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[e]),t}function $d(){const[e,t]=b.useState({id:"",arrival_day:"wednesday",departure_day:"tuesday"}),[n,r]=b.useState(!0);b.useEffect(()=>{s();const i=A.channel("arrival_rules_changes").on("postgres_changes",{event:"*",schema:"public",table:"arrival_rules"},()=>{s()}).subscribe();return()=>{i.unsubscribe()}},[]);async function s(){try{r(!0);const{data:i,error:o}=await A.from("arrival_rules").select("*").order("updated_at",{ascending:!1}).limit(1).single();if(o){console.error("Error loading arrival rules:",o);return}i&&t(i)}catch(i){console.error("Error loading arrival rules:",i)}finally{r(!1)}}return{rules:e,loading:n}}function xE(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o();const d=A.channel("scheduling_rules_changes").on("postgres_changes",{event:"*",schema:"public",table:"scheduling_rules"},()=>{o()}).subscribe();return()=>{d.unsubscribe()}},[]);const o=async()=>{try{r(!0);const{data:d,error:h}=await A.from("scheduling_rules").select("*").order("start_date",{ascending:!0});if(h)throw h;t(d||[])}catch(d){console.error("Error loading scheduling rules:",d),i(d instanceof Error?d:new Error("Failed to load scheduling rules"))}finally{r(!1)}},a=d=>{const h=e.find(p=>{var w;const y=an(p.start_date),x=an(p.end_date);return Yu(d,{start:y,end:x})?(w=p.blocked_dates)==null?void 0:w.some(g=>Me(an(g),d)):!1});return h||e.filter(p=>{const y=an(p.start_date),x=an(p.end_date);return Yu(d,{start:y,end:x})}).sort((p,y)=>{if(p.is_blocked&&!y.is_blocked)return-1;if(!p.is_blocked&&y.is_blocked)return 1;const x=!!(p.arrival_day||p.departure_day),w=!!(y.arrival_day||y.departure_day);return x&&!w?-1:!x&&w?1:new Date(y.created_at).getTime()-new Date(p.created_at).getTime()})[0]||null};return{rules:e,loading:n,error:s,isDateBlocked:d=>{var p;const h=a(d);if(!h)return!1;if(h.is_blocked)return!0;const f=d.toISOString().split("T")[0];return((p=h.blocked_dates)==null?void 0:p.includes(f))||!1},getArrivalDepartureForDate:d=>{const h=a(d);return!h||h.is_blocked?{arrival:null,departure:null}:{arrival:h.arrival_day,departure:h.departure_day}},refresh:o}}function j0(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o();const u=A.channel("day_rules_changes").on("postgres_changes",{event:"*",schema:"public",table:"day_rules"},()=>{o()}).subscribe();return()=>{u.unsubscribe()}},[]);const o=async()=>{try{r(!0);const{data:u,error:d}=await A.from("day_rules").select("*").order("date",{ascending:!0});if(d)throw d;t(u||[])}catch(u){console.error("Error loading day rules:",u),i(u instanceof Error?u:new Error("Failed to load day rules"))}finally{r(!1)}};return{rules:e,loading:n,error:s,setDayRule:async(u,d)=>{const h=u.toISOString().split("T")[0];try{if(d===null){const{error:f}=await A.from("day_rules").delete().eq("date",h);if(f)throw f}else{const{error:f}=await A.from("day_rules").upsert({date:h,is_arrival:d==="arrival",is_departure:d==="departure",not_arrival:d==="not_arrival",not_departure:d==="not_departure"},{onConflict:"date"});if(f)throw f}await o()}catch(f){throw console.error("Error setting day rule:",f),f}},getDayRule:u=>{const d=u.toISOString().split("T")[0],h=e.find(f=>f.date===d);return{isArrival:(h==null?void 0:h.is_arrival)||!1,isDeparture:(h==null?void 0:h.is_departure)||!1,notArrival:(h==null?void 0:h.not_arrival)||!1,notDeparture:(h==null?void 0:h.not_departure)||!1}},refresh:o}}function Qi(e){return e.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()}const C0={minAdvance:"Bookings must be made at least 3 business days in advance",holdDuration:"Holds expire after 72 hours",extension:"Extensions can be made anytime before check-out"};function wE({selected:e,onSelect:t,isExtension:n=!1}){const r=Fp("(min-width: 1024px)"),s=Fp("(min-width: 768px)"),{rules:i,loading:o}=$d(),{isDateBlocked:a,getArrivalDepartureForDate:l}=xE(),{getDayRule:u}=j0(),[d,h]=b.useState(!1),[f,p]=b.useState(new Date),y=r||s?2:1,x=b.useCallback(S=>{if(!S){t(void 0),h(!1);return}const j=Qi(S),{isArrival:C,isDeparture:P,notArrival:M,notDeparture:T}=u(S),V=l(S),W=V.arrival||i.arrival_day,pe=V.departure||i.departure_day;if(!w(S)){t(void 0),h(!1);return}if(d&&(e!=null&&e.from)){(P||!T&&j===pe)&&S>e.from?(t({from:e.from,to:S}),h(!1)):C||!M&&j===W?(t({from:S,to:void 0}),h(!0)):(t(void 0),h(!1));return}C||!M&&j===W?(t({from:S,to:void 0}),h(!0)):(t(void 0),h(!1))},[i,e,d,u,l]),w=b.useCallback(S=>{const j=Qi(S),C=Pp(new Date,3),{isArrival:P,isDeparture:M,notArrival:T,notDeparture:V}=u(S),W=l(S),pe=W.arrival||i.arrival_day,oe=W.departure||i.departure_day;return a(S)||S<C?!1:d&&(e!=null&&e.from)?(M||!V&&j===oe)&&S>e.from:P||!T&&j===pe},[i,e,d,a,u,l]),g={arrival:S=>{const{isArrival:j,notArrival:C}=u(S),M=l(S).arrival||i.arrival_day;return j||!C&&Qi(S)===M},departureAvailable:S=>{if(!d||!(e!=null&&e.from))return!1;const{isDeparture:j,notDeparture:C}=u(S),M=l(S).departure||i.departure_day;return(j||!C&&Qi(S)===M)&&S>e.from},selected:S=>(e==null?void 0:e.from)&&S.getTime()===e.from.getTime()||(e==null?void 0:e.to)&&S.getTime()===e.to.getTime(),inRange:S=>(e==null?void 0:e.from)&&(e==null?void 0:e.to)&&Yu(S,{start:e.from,end:e.to}),blocked:S=>a(S)},m=S=>{var V,W,pe;const C=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).formatToParts(S),P=(V=C.find(oe=>oe.type==="month"))==null?void 0:V.value,M=(W=C.find(oe=>oe.type==="day"))==null?void 0:W.value,T=(pe=C.find(oe=>oe.type==="year"))==null?void 0:pe.value;return`${P} ${M}${v(parseInt(M||"0"))}, ${T}`},v=S=>{if(S>3&&S<21)return"th";switch(S%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};if(o)return c.jsx("div",{children:"Loading..."});const _=e!=null&&e.from&&(e!=null&&e.to)?Math.ceil(s0(e.to,e.from)/7):0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"overflow-x-auto",children:[c.jsx("style",{children:`
            .rdp {
              margin: 0 auto;
              width: fit-content;
            }
            .rdp-months {
              justify-content: center;
            }
            .rdp-day {
              border-radius: 0 !important;
            }
            .rdp-day_selected {
              border-radius: 0 !important;
            }
            .rdp-day_selected:not([aria-selected="true"]) {
              background-color: #111827 !important;
              color: white !important;
              opacity: 1 !important;
            }
            .rdp-day[aria-selected="true"]:first-of-type {
              background-color: #111827 !important;
              border-radius: 2rem 0 0 2rem !important;
            }
            .rdp-day[aria-selected="true"]:last-of-type {
              background-color: #111827 !important;
              border-radius: 0 2rem 2rem 0 !important;
            }
            .rdp-day_range_middle {
              color: white !important;
              opacity: 1 !important;
            }
            .rdp-day_today {
              font-weight: bold !important;
            }
            .rdp-day_disabled:not(.blocked) {
              opacity: 0.35 !important;
            }
            .rdp-day.blocked {
              text-decoration: line-through !important;
              background-color: #fee2e2 !important;
              color: #991b1b !important;
            }
            .rdp-day_selected {
              opacity: 1 !important;
            }
            .rdp-day_range_middle {
              opacity: 1 !important;
            }
            .rdp-day_outside {
              visibility: hidden !important;
            }
        .rdp-day.arrival {
  border-radius: 2rem 0 0 2rem !important;
  clip-path: inset(0 0 0 0 round 2rem 0 0 2rem) !important;
  mask-image: radial-gradient(circle at left, black 100%, transparent 100%) !important;
  -webkit-mask-image: radial-gradient(circle at left, black 100%, transparent 100%) !important;
}

.rdp-day.arrival[aria-selected="true"] {
  border-radius: 2rem 0 0 2rem !important;
  clip-path: inset(0 0 0 0 round 2rem 0 0 2rem) !important;
}

.rdp-day.departureAvailable {
  border-radius: 0 2rem 2rem 0 !important;
  clip-path: inset(0 0 0 0 round 0 2rem 2rem 0) !important;
}



        .rdp-day.departureAvailable {
  border-radius: 0 4rem 4rem 0 !important;
  clip-path: inset(0 0 0 0 round 0 4rem 4rem 0) !important;
}

          `}),c.jsx(Hr,{mode:"range",selected:e,onDayClick:x,numberOfMonths:y,showOutsideDays:!1,disabled:S=>!w(S),modifiers:g,modifiersStyles:{arrival:{color:"white",backgroundColor:"#065F46",fontWeight:"bold"},departureAvailable:{color:"white",backgroundColor:"#1E40AF",fontWeight:"bold"},selected:{color:"white",fontWeight:"bold"},inRange:{color:"white",backgroundColor:"#111827",fontWeight:"bold",opacity:"1"}},fromDate:Pp(new Date,3),month:f,onMonthChange:p})]}),c.jsxs("div",{className:"border-t border-stone-200 pt-6 space-y-4",children:[c.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-display text-lg text-stone-900 mb-2",children:"Stay Details"}),e!=null&&e.from?c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("p",{children:["You may arrive ",m(e.from)," from 3-6PM"]}),e.to&&c.jsxs("p",{children:["You may depart ",m(e.to)," by 12PM Noon"]}),e.to&&c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-600",children:"Length:"})," ",c.jsxs("span",{className:"font-medium",children:[_," ",_===1?"week":"weeks"]})]})]}):c.jsx("p",{className:"text-stone-600 text-sm",children:"Select your check-in date (highlighted in green)"})]}),c.jsxs("div",{className:"text-sm text-stone-600 space-y-1",children:[c.jsx("p",{children:"• Minimum stay: 7 days"}),c.jsxs("p",{children:["• Check-in: ",i.arrival_day.charAt(0).toUpperCase()+i.arrival_day.slice(1)," at 3 PM"]}),c.jsxs("p",{children:["• Check-out: ",i.departure_day.charAt(0).toUpperCase()+i.departure_day.slice(1)," at 12 PM"]}),!n&&c.jsxs("p",{className:"text-emerald-700",children:["• ",C0.minAdvance]})]})]})]})}function _E({accommodation:e,checkIn:t,checkOut:n,onClose:r,onBookingComplete:s,isExtension:i=!1}){const[o,a]=st.useState(!1),[l,u]=st.useState(null),{credits:d,loading:h,refresh:f}=p0(),p=s0(n,t),y=Math.ceil(p/7),x=e.price*y,w=async()=>{if(d<x){u(`Insufficient credits. You need €${x} but have €${d}`);return}a(!0),u(null);try{await $N(e.id,t,n,x),await f(),s()}catch(v){u(v instanceof Error?v.message:"Failed to create booking")}finally{a(!1)}},g=v=>{var M,T,V;const S=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).formatToParts(v),j=(M=S.find(W=>W.type==="month"))==null?void 0:M.value,C=(T=S.find(W=>W.type==="day"))==null?void 0:T.value,P=(V=S.find(W=>W.type==="year"))==null?void 0:V.value;return`${j} ${C}${m(parseInt(C||"0"))}, ${P}`},m=v=>{if(v>3&&v<21)return"th";switch(v%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-display font-light",children:"Confirm Your Journey"}),c.jsx("button",{onClick:r,className:"text-stone-500 hover:text-stone-700",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{children:c.jsx("h3",{className:"font-display text-lg",children:e.title})}),c.jsxs("div",{className:"border-t border-b border-stone-200 py-4",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{children:"Arrival"}),c.jsxs("span",{children:["You may arrive ",g(t)," from 3-6PM"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Departure"}),c.jsxs("span",{children:["You may depart ",g(n)," by 12PM Noon"]})]}),c.jsxs("div",{className:"flex justify-between mt-2 text-stone-600",children:[c.jsx("span",{children:"Duration"}),c.jsxs("span",{children:[p," days (",y," weeks)"]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-stone-600",children:[c.jsx("span",{children:"Your Credits"}),c.jsxs("span",{children:["€",d]})]}),c.jsxs("div",{className:"flex justify-between text-stone-600",children:[c.jsx("span",{children:"Weekly rate"}),c.jsxs("span",{children:["€",e.price]})]}),c.jsxs("div",{className:"flex justify-between font-display text-lg",children:[c.jsx("span",{children:"Total Journey Cost"}),c.jsxs("span",{children:["€",x]})]})]}),!i&&c.jsx("div",{className:"text-sm text-emerald-700 bg-emerald-50 p-3 rounded-lg",children:C0.minAdvance}),l&&c.jsx("div",{className:"text-rose-600 text-sm bg-rose-50 p-3 rounded-lg",children:l}),c.jsx("button",{onClick:w,disabled:o||h||d<x,className:"w-full bg-emerald-900 text-white py-3 px-6 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300 disabled:cursor-not-allowed transition-colors text-sm font-body",children:o?"Processing...":d<x?"Insufficient Credits":"Confirm Booking"})]})]})})}function bE({accommodation:e,checkIn:t,checkOut:n}){const[r,s]=b.useState(!1),[i,o]=b.useState(!0),[a,l]=b.useState(null),u=e.price,d=u*.1,h=u*.15;b.useEffect(()=>{t&&n&&f()},[t,n]);const f=async()=>{if(!(!t||!n))try{const{data:y,error:x}=await A.from("availability").select("*").eq("accommodation_id",e.id).in("status",["BOOKED","HOLD"]).gte("date",t.toISOString().split("T")[0]).lt("date",n.toISOString().split("T")[0]);if(x)throw x;const w=!y||y.length===0;if(o(w),!w){const{data:g}=await A.from("availability").select("date").eq("accommodation_id",e.id).gt("date",n.toISOString().split("T")[0]).not("status","in",'("BOOKED","HOLD")').order("date",{ascending:!0}).limit(1).single();g&&l(new Date(g.date))}}catch(y){console.error("Error checking availability:",y)}},p=()=>{t&&n&&i&&s(!0)};return c.jsxs(c.Fragment,{children:[c.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`group cursor-pointer ${i?"":"opacity-50 grayscale pointer-events-none"}`,onClick:p,children:[c.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-2xl",children:[c.jsx("img",{src:e.image_url,alt:e.title,className:`object-cover w-full h-full ${i?"group-hover:scale-105":""} transition-transform duration-500`}),!i&&a&&c.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-black bg-opacity-75 text-white px-4 py-3 text-center font-medium backdrop-blur-sm",children:["Available from ",fe(a,"MMMM d")]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-display text-xl text-stone-900",children:e.title}),c.jsx("p",{className:"text-stone-500 mt-1",children:e.location})]}),c.jsxs("div",{className:"flex items-center gap-1 text-stone-700",children:[c.jsx(ZC,{className:"w-4 h-4 fill-current text-stone-900"}),c.jsx("span",{className:"font-medium",children:e.rating})]})]}),c.jsxs("p",{className:"text-stone-500 mt-2",children:[e.type," · ",e.beds>0?`${e.beds} bed${e.beds>1?"s":""}`:"No bed",e.bathrooms>0?` · ${e.bathrooms} bath${e.bathrooms>1?"s":""}`:""]}),c.jsxs("div",{className:"mt-4 space-y-1",children:[c.jsxs("p",{className:"font-display text-lg text-stone-900",children:["€",u," ",c.jsx("span",{className:"text-stone-500 text-base",children:"per week"})]}),c.jsxs("p",{className:"text-sm text-stone-500",children:["2+ weeks: €",(u-d).toFixed(0)," per week"]}),c.jsxs("p",{className:"text-sm text-stone-500",children:["6+ weeks: €",(u-h).toFixed(0)," per week"]})]})]})]}),r&&t&&n&&c.jsx(_E,{accommodation:e,checkIn:t,checkOut:n,onClose:()=>s(!1),onBookingComplete:()=>{s(!1)}})]})}const SE=3,kE=1e3;async function P0(e=0){try{const{data:t,error:n}=await A.from("accommodations").select("*").order("price",{ascending:!0});if(n)throw n;return t||[]}catch(t){if(e<SE)return console.warn(`Fetch attempt ${e+1} failed, retrying...`),await new Promise(n=>setTimeout(n,kE)),P0(e+1);throw t}}function jE(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{let o=!0,a=null;async function l(){try{i(null);const u=await P0();o&&t(u)}catch(u){console.error("Error loading accommodations:",u),o&&i(u instanceof Error?u:new Error("Failed to load accommodations"))}finally{o&&r(!1)}}return l(),a=A.channel("accommodations_changes").on("postgres_changes",{event:"*",schema:"public",table:"accommodations"},()=>{l()}).subscribe(),()=>{o=!1,a==null||a.unsubscribe()}},[]),{accommodations:e,loading:n,error:s}}function Vd(){const[e,t]=b.useState(null);return b.useEffect(()=>{A.auth.getSession().then(({data:{session:r}})=>{t(r)});const{data:{subscription:n}}=A.auth.onAuthStateChange((r,s)=>{t(s)});return()=>n.unsubscribe()},[]),e}function CE({onClose:e}){const{rules:t,loading:n}=$d(),[r,s]=b.useState(t.arrival_day),[i,o]=b.useState(t.departure_day),[a,l]=b.useState(!1),[u,d]=b.useState(null),h=async()=>{if(r===i){d("Arrival and departure days cannot be the same");return}l(!0),d(null);try{const{data:p}=await A.from("arrival_rules").select("id").single();if(p){const{error:y}=await A.from("arrival_rules").update({arrival_day:r,departure_day:i,updated_at:new Date().toISOString()}).eq("id",p.id);if(y)throw y}else{const{error:y}=await A.from("arrival_rules").insert({arrival_day:r,departure_day:i});if(y)throw y}e()}catch(p){console.error("Error saving rules:",p),d("Failed to save rules. Please try again.")}finally{l(!1)}},f=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return n?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg p-6",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900 mx-auto"})})}):c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-display font-light",children:"Arrival & Departure Rules"}),c.jsx("button",{onClick:e,className:"text-stone-500 hover:text-stone-700",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Arrival Day"}),c.jsx("select",{value:r,onChange:p=>s(p.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",children:f.map(p=>c.jsx("option",{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Departure Day"}),c.jsx("select",{value:i,onChange:p=>o(p.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",children:f.map(p=>c.jsx("option",{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),u&&c.jsx("div",{className:"text-rose-600 text-sm bg-rose-50 p-3 rounded-lg",children:u}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-stone-600 hover:text-stone-800",children:"Cancel"}),c.jsx("button",{onClick:h,disabled:a||r===i,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300",children:a?"Saving...":"Save Rules"})]})]})]})})}const $p=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function N0({onClose:e,onSave:t,editingRule:n}){const[r,s]=b.useState(n?new Date(n.start_date):void 0),[i,o]=b.useState(n?new Date(n.end_date):void 0),[a,l]=b.useState((n==null?void 0:n.is_blocked)||!1),[u,d]=b.useState((n==null?void 0:n.arrival_day)||void 0),[h,f]=b.useState((n==null?void 0:n.departure_day)||void 0),[p,y]=b.useState(null),[x,w]=b.useState(!1),g=async()=>{try{if(!r||!i){y("Please select both start and end dates");return}w(!0),y(null);const m={start_date:r.toISOString().split("T")[0],end_date:i.toISOString().split("T")[0],is_blocked:a,arrival_day:u||null,departure_day:h||null};if(n){const{error:v}=await A.from("scheduling_rules").update(m).eq("id",n.id);if(v)throw v}else{const{error:v}=await A.from("scheduling_rules").insert([m]);if(v)throw v}t(),e()}catch(m){console.error("Error saving rule:",m),y(m instanceof Error?m.message:"Failed to save rule")}finally{w(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-xl",children:[c.jsxs("div",{className:"p-4 border-b border-stone-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium",children:n?"Edit Rule":"Add New Rule"}),c.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600",children:c.jsx(Kt,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Start Date"}),c.jsx(Hr,{mode:"single",selected:r,onSelect:s,className:"border rounded-lg bg-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"End Date"}),c.jsx(Hr,{mode:"single",selected:i,onSelect:o,disabled:m=>m<(r||new Date),className:"border rounded-lg bg-white"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"bg-rose-50 p-3 rounded-lg",children:c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:a,onChange:m=>{l(m.target.checked),m.target.checked&&(d(void 0),f(void 0))},className:"rounded border-rose-300 text-rose-600 focus:ring-rose-600"}),c.jsx("span",{className:"text-sm font-medium text-rose-900",children:"Block all dates in this range"})]})}),!a&&c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Custom Arrival Day"}),c.jsxs("select",{value:u||"",onChange:m=>d(m.target.value||void 0),className:"w-full p-2 border rounded-lg",children:[c.jsx("option",{value:"",children:"Default"}),$p.map(m=>c.jsx("option",{value:m,children:m.charAt(0).toUpperCase()+m.slice(1)},m))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Custom Departure Day"}),c.jsxs("select",{value:h||"",onChange:m=>f(m.target.value||void 0),className:"w-full p-2 border rounded-lg",children:[c.jsx("option",{value:"",children:"Default"}),$p.map(m=>c.jsx("option",{value:m,children:m.charAt(0).toUpperCase()+m.slice(1)},m))]})]})]})]}),p&&c.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-lg text-sm",children:p}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-stone-600 hover:text-stone-900",children:"Cancel"}),c.jsx("button",{onClick:g,disabled:x||!r||!i,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300",children:x?"Saving...":n?"Update":"Add Rule"})]})]})})]})})}function PE({onClose:e}){const[t,n]=b.useState([]),[r,s]=b.useState(!0),[i,o]=b.useState(null),[a,l]=b.useState(!1),[u,d]=b.useState(null),h=async()=>{try{s(!0);const{data:p,error:y}=await A.from("scheduling_rules").select("*").order("start_date",{ascending:!0});if(y)throw y;n(p||[])}catch(p){console.error("Error loading rules:",p),o(p instanceof Error?p.message:"Failed to load rules")}finally{s(!1)}},f=async p=>{try{const{error:y}=await A.from("scheduling_rules").delete().eq("id",p);if(y)throw y;await h()}catch(y){console.error("Error deleting rule:",y),o(y instanceof Error?y.message:"Failed to delete rule")}};return st.useEffect(()=>{h()},[]),c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(jd,{className:"w-6 h-6 text-emerald-900"}),c.jsx("h2",{className:"text-2xl font-display font-light",children:"Scheduling Rules"})]}),c.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[i&&c.jsx("div",{className:"mb-6 p-4 bg-rose-50 text-rose-600 rounded-lg",children:i}),c.jsx("div",{className:"flex justify-end mb-6",children:c.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:[c.jsx(e0,{className:"w-4 h-4"}),"Add New Rule"]})}),r?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})}):c.jsx("div",{className:"space-y-4",children:t.map(p=>{var y;return c.jsx("div",{className:"bg-white p-6 rounded-lg border border-stone-200 hover:border-emerald-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsxs("h3",{className:"font-medium",children:[fe(an(p.start_date),"PP")," - ",fe(an(p.end_date),"PP")]}),p.is_blocked&&c.jsx("span",{className:"px-2 py-1 bg-rose-100 text-rose-800 rounded-full text-xs font-medium",children:"Blocked"})]}),(p.arrival_day||p.departure_day)&&c.jsxs("p",{className:"text-stone-600",children:[p.arrival_day&&c.jsxs("span",{children:["Arrival: ",p.arrival_day.charAt(0).toUpperCase()+p.arrival_day.slice(1)]}),p.arrival_day&&p.departure_day&&" • ",p.departure_day&&c.jsxs("span",{children:["Departure: ",p.departure_day.charAt(0).toUpperCase()+p.departure_day.slice(1)]})]}),((y=p.blocked_dates)==null?void 0:y.length)>0&&c.jsxs("p",{className:"text-stone-600 mt-2",children:["Blocked dates: ",p.blocked_dates.map(x=>fe(an(x),"PP")).join(", ")]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{d(p),l(!0)},className:"text-stone-400 hover:text-emerald-600 transition-colors",children:c.jsx(XC,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>f(p.id),className:"text-stone-400 hover:text-rose-600 transition-colors",children:c.jsx(eP,{className:"w-5 h-5"})})]})]})},p.id)})})]}),a&&c.jsx(N0,{onClose:()=>{l(!1),d(null)},onSave:h,editingRule:u})]})})}function NE({onClose:e}){const[t,n]=b.useState(),[r,s]=b.useState(null),{getDayRule:i,setDayRule:o,loading:a}=j0(),l=async h=>{h&&n(h)},u=async h=>{if(t)try{s(null),await o(t,h)}catch(f){s(f instanceof Error?f.message:"Failed to set rule")}},d=h=>{const{isArrival:f,isDeparture:p,notArrival:y,notDeparture:x}=i(h);return c.jsxs("div",{className:"relative",children:[c.jsx("div",{children:h.getDate()}),f&&c.jsx("div",{className:"absolute bottom-0 left-0 w-full text-[8px] text-emerald-600 font-bold",children:"ARRIVAL"}),p&&c.jsx("div",{className:"absolute bottom-0 left-0 w-full text-[8px] text-blue-600 font-bold",children:"DEPARTURE"}),y&&c.jsx("div",{className:"absolute bottom-0 left-0 w-full text-[8px] text-rose-600 font-bold",children:"NO ARRIVAL"}),x&&c.jsx("div",{className:"absolute bottom-0 left-0 w-full text-[8px] text-rose-600 font-bold",children:"NO DEPARTURE"})]})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-medium",children:"Manage Day Rules"}),c.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-stone-50 p-4 rounded-lg border border-stone-200",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(GC,{className:"w-5 h-5 text-emerald-900 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-stone-600",children:[c.jsx("p",{className:"font-medium text-stone-900 mb-1",children:"How Day Rules Work"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:"• Click a date to select it"}),c.jsx("li",{children:"• Set it as an arrival or departure day"}),c.jsx("li",{children:"• Or explicitly mark it as not available for arrival/departure"}),c.jsx("li",{children:"• Clear a rule to revert to default behavior"})]})]})]})}),c.jsxs("div",{className:"flex gap-8",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Hr,{mode:"single",selected:t,onSelect:h=>h&&l(h),components:{DayContent:({date:h})=>d(h)}})}),c.jsx("div",{className:"flex-1",children:t?c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium",children:fe(t,"MMMM d, yyyy")}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u("arrival"),className:"w-full px-4 py-2 bg-emerald-100 text-emerald-900 rounded-lg hover:bg-emerald-200",children:"Set as Arrival Day"}),c.jsx("button",{onClick:()=>u("departure"),className:"w-full px-4 py-2 bg-blue-100 text-blue-900 rounded-lg hover:bg-blue-200",children:"Set as Departure Day"}),c.jsx("button",{onClick:()=>u("not_arrival"),className:"w-full px-4 py-2 bg-rose-100 text-rose-900 rounded-lg hover:bg-rose-200",children:"Not Available for Arrival"}),c.jsx("button",{onClick:()=>u("not_departure"),className:"w-full px-4 py-2 bg-rose-100 text-rose-900 rounded-lg hover:bg-rose-200",children:"Not Available for Departure"}),c.jsx("button",{onClick:()=>u(null),className:"w-full px-4 py-2 bg-stone-100 text-stone-900 rounded-lg hover:bg-stone-200",children:"Clear Rule"})]}),r&&c.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-lg text-sm",children:r})]}):c.jsx("div",{className:"text-center text-stone-500",children:"Select a date to manage its rules"})})]})]})})]})})}function TE({onClose:e,onSave:t}){const[n,r]=b.useState([]),[s,i]=b.useState(null),[o,a]=b.useState(!1),l=async()=>{try{if(n.length===0){i("Please select at least one date to block");return}a(!0),i(null);const{error:u}=await A.from("scheduling_rules").insert([{start_date:n[0].toISOString().split("T")[0],end_date:n[n.length-1].toISOString().split("T")[0],blocked_dates:n.map(d=>d.toISOString().split("T")[0])}]);if(u)throw u;t(),e()}catch(u){console.error("Error blocking dates:",u),i(u instanceof Error?u.message:"Failed to block dates")}finally{a(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[c.jsxs("div",{className:"p-4 border-b border-stone-200 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Block Specific Dates"}),c.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600",children:c.jsx(Kt,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Select Dates to Block"}),c.jsx(Hr,{mode:"multiple",selected:n,onSelect:r,className:"border rounded-lg bg-white"})]}),s&&c.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-lg text-sm",children:s}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-stone-600 hover:text-stone-900",children:"Cancel"}),c.jsx("button",{onClick:l,disabled:o||n.length===0,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300",children:o?"Saving...":"Block Dates"})]})]})})]})})}function EE(){var j;const[e,t]=b.useState(),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[o,a]=b.useState(!1),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[f,p]=b.useState(!1),{accommodations:y,loading:x,error:w}=jE(),{rules:g}=$d(),m=Vd(),v=((j=m==null?void 0:m.user)==null?void 0:j.email)==="andre@thegarden.pt",_=()=>{e!=null&&e.from&&(e!=null&&e.to)&&r(!0)},S=C=>C.charAt(0).toUpperCase()+C.slice(1);return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"max-w-3xl mx-auto mb-12",children:[c.jsxs("div",{className:"flex justify-between items-start mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-display font-light text-stone-900 mb-3",children:"Book Your Stay"}),c.jsxs("p",{className:"text-stone-600",children:["Choose a ",S(g.arrival_day)," to begin your journey"]})]}),v&&c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:[c.jsx(UC,{className:"w-4 h-4"}),"Day Rules"]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:[c.jsx(e0,{className:"w-4 h-4"}),"Add Rule"]}),c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:[c.jsx(BC,{className:"w-4 h-4"}),"Block Dates"]}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:[c.jsx(jd,{className:"w-4 h-4"}),"Scheduling Rules"]}),c.jsx("button",{onClick:()=>i(!0),className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:"Set Arrival Rules"})]})]}),c.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-stone-200",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wE,{selected:e,onSelect:t}),c.jsx("button",{onClick:_,disabled:!(e!=null&&e.from)||!(e!=null&&e.to),className:"w-full bg-emerald-900 text-white py-3 px-6 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300 disabled:cursor-not-allowed transition-colors text-sm font-body",children:"Search Available Rooms"})]})})]}),n&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-display font-light text-stone-900 mb-8",children:"Available Rooms"}),x?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-900 mx-auto"})}):w?c.jsx("div",{className:"text-center py-12 text-rose-600",children:w.message}):y.length===0?c.jsx("div",{className:"text-center py-12 text-stone-600",children:"No rooms available for these dates. Please try different dates."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:y.map(C=>c.jsx(bE,{accommodation:C,checkIn:e==null?void 0:e.from,checkOut:e==null?void 0:e.to},C.id))})]}),s&&c.jsx(CE,{onClose:()=>i(!1)}),o&&c.jsx(PE,{onClose:()=>a(!1)}),l&&c.jsx(NE,{onClose:()=>u(!1)}),d&&c.jsx(N0,{onClose:()=>h(!1),onSave:()=>{h(!1)}}),f&&c.jsx(TE,{onClose:()=>p(!1),onSave:()=>{p(!1)}})]})}function DE({application:e,onClose:t}){var s,i;const n=[{id:1,text:"Consent to data storage",section:"Consent"},{id:2,text:"First Name",section:"Personal"},{id:3,text:"Last Name",section:"Personal"},{id:4,text:"Where aren't you from?",section:"Personal"},{id:5,text:"Email address",section:"Personal"},{id:6,text:"Referral",section:"Personal"},{id:7,text:"Muse or artisan?",section:"Stay Details"},{id:8,text:"Applying with someone else?",section:"Stay Details"},{id:9,text:"WhatsApp number",section:"Contact"},{id:10,text:"Social media presence",section:"Personal"},{id:11,text:"Current life status",section:"Personal"},{id:12,text:"Why The Garden?",section:"Motivation"},{id:13,text:"Photos",section:"Personal"},{id:14,text:"Proud creation",section:"Personal"},{id:15,text:"Hurt feelings",section:"Philosophy"},{id:16,text:"Changed belief",section:"Philosophy"},{id:17,text:"If we really knew you",section:"Personal"},{id:18,text:"Working on",section:"Personal"},{id:19,text:"Getting to know people",section:"Social"},{id:20,text:"Questions for strangers",section:"Social"},{id:21,text:"Identity",section:"Philosophy"},{id:22,text:"Taboo topics",section:"Philosophy"},{id:23,text:"Conspiracy theory",section:"Philosophy"},{id:24,text:"Unique belief",section:"Philosophy"},{id:25,text:"Astrology",section:"Philosophy"},{id:26,text:"Logic puzzle",section:"Philosophy"},{id:27,text:"MBTI type",section:"Personal"}],r=Array.from(new Set(n.map(o=>o.section)));return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-medium",children:[(s=e.data)==null?void 0:s[4]," ",(i=e.data)==null?void 0:i[5]]}),c.jsx("p",{className:"text-sm text-stone-600",children:e.user_email})]}),c.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600 transition-colors",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"overflow-y-auto p-6",children:r.map(o=>c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-medium text-stone-900 mb-4",children:o}),c.jsx("div",{className:"space-y-6",children:n.filter(a=>a.section===o).map(a=>{var l,u,d;return c.jsxs("div",{className:"bg-stone-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-stone-900 mb-2",children:a.text}),c.jsx("div",{className:"text-stone-600 whitespace-pre-wrap",children:((u=(l=e.data)==null?void 0:l[a.id])==null?void 0:u.selection)||((d=e.data)==null?void 0:d[a.id])||"No response"})]},a.id)})})]},o))})]})})}function AE(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState("all");b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:y}=await A.from("application_details").select("*").order("created_at",{ascending:!1});if(y)throw y;t(p||[])}catch(p){console.error("Error loading applications:",p),i(p instanceof Error?p.message:"Failed to load applications")}finally{r(!1)}},h=async(p,y)=>{try{if(y==="approved"){const{error:x}=await A.rpc("approve_application",{p_application_id:p});if(x)throw x}else if(y==="rejected"){const{error:x}=await A.rpc("reject_application",{p_application_id:p});if(x)throw x}await d()}catch(x){console.error("Error updating application:",x),i(x instanceof Error?x.message:"Failed to update application")}},f=e.filter(p=>l==="all"?!0:p.status===l);return n?c.jsx("div",{className:"flex justify-center items-center p-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})}):c.jsxs("div",{className:"p-6",children:[s&&c.jsx("div",{className:"mb-6 p-4 bg-rose-50 text-rose-600 rounded-lg",children:s}),c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-colors ${l==="all"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:"All"}),c.jsxs("button",{onClick:()=>u("pending"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="pending"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(YC,{className:"w-4 h-4"}),"Pending"]}),c.jsxs("button",{onClick:()=>u("approved"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="approved"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(Uu,{className:"w-4 h-4"}),"Approved"]}),c.jsxs("button",{onClick:()=>u("rejected"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="rejected"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(zu,{className:"w-4 h-4"}),"Rejected"]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(ri,{children:f.map(p=>c.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white p-6 rounded-lg border border-stone-200 hover:border-emerald-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium",children:[p.data[4]," ",p.data[5]]}),c.jsx("p",{className:"text-sm text-stone-600",children:p.user_email}),p.linked_name&&c.jsxs("div",{className:"mt-2 text-sm text-stone-500",children:["Linked with: ",p.linked_name," (",p.linked_email,")",p.linked_application_id&&c.jsx("span",{className:"ml-2 text-emerald-600",children:"• Applied"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>a(p),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-stone-100 text-stone-600 hover:bg-stone-200 transition-colors",children:[c.jsx(KC,{className:"w-4 h-4"}),"View"]}),p.status==="pending"&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>h(p.id,"approved"),className:"p-2 rounded-lg bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-colors",children:c.jsx(Uu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(p.id,"rejected"),className:"p-2 rounded-lg bg-rose-100 text-rose-600 hover:bg-rose-200 transition-colors",children:c.jsx(zu,{className:"w-4 h-4"})})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="approved"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:p.status})]})]})},p.id))})}),o&&c.jsx(DE,{application:o,onClose:()=>a(null)})]})}function ME({application:e,onClose:t}){const n=r=>{if(!r)return"Not answered";if(typeof r=="object"){if(r.answer){let s=r.answer;return r.role&&(s+=`
Role: ${r.role}`),r.partnerName&&(s+=`
Partner Name: ${r.partnerName}`),r.partnerEmail&&(s+=`
Partner Email: ${r.partnerEmail}`),s}return JSON.stringify(r,null,2)}return String(r)};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-medium",children:[e.data[4]," ",e.data[5]]}),c.jsx("p",{className:"text-stone-600",children:e.user_email})]}),c.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600 transition-colors",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"overflow-y-auto p-6",children:Object.entries(e.data).map(([r,s])=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-medium text-stone-900 mb-2",children:["Question ",r]}),c.jsx("div",{className:"bg-stone-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-stone-600 whitespace-pre-wrap",children:n(s)})})]},r))})]})})}function Qt({children:e,content:t}){const[n,r]=b.useState(!1),s=i=>{if(!i)return"Not provided";if(typeof i=="object"){if(i.answer){let o=i.answer;return i.role&&(o+=`
Role: ${i.role}`),i.partnerName&&(o+=`
Partner Name: ${i.partnerName}`),i.partnerEmail&&(o+=`
Partner Email: ${i.partnerEmail}`),o}return JSON.stringify(i,null,2)}return String(i)};return c.jsxs("div",{className:"relative",children:[c.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!n),className:"cursor-pointer",children:e}),n&&c.jsx("div",{className:"absolute z-50 bg-black text-white p-4 rounded-lg shadow-lg max-w-md whitespace-pre-wrap",children:s(t)})]})}function OE(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState("pending");st.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:w,error:g}=await A.from("application_details").select("*").order("created_at",{ascending:!1});if(g)throw g;t(w||[])}catch(w){console.error("Error loading applications:",w),i(w instanceof Error?w.message:"Failed to load applications")}finally{r(!1)}},h=async(w,g)=>{try{if(g==="approved"){const{error:m}=await A.rpc("approve_application",{p_application_id:w});if(m)throw m}else if(g==="rejected"){const{error:m}=await A.rpc("reject_application",{p_application_id:w});if(m)throw m}await d()}catch(m){console.error("Error updating application:",m),i(m instanceof Error?m.message:"Failed to update application")}},f=w=>{if(!w)return null;let g=[];try{if(typeof w=="string"){const _=JSON.parse(w);g=Array.isArray(_)?_:[]}else Array.isArray(w)&&(g=w)}catch{return null}const m=g.filter(_=>typeof _=="string"&&_.trim()!=="");if(m.length===0)return null;const v={1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-2",4:"grid-cols-2"};return c.jsx("div",{className:`grid ${v[Math.min(m.length,4)]} gap-2 aspect-square`,children:m.slice(0,4).map((_,S)=>c.jsx("img",{src:_,alt:`Applicant photo ${S+1}`,className:`w-full h-full object-cover rounded-lg ${m.length===3&&S===2?"col-span-2":""}`},S))})},p=w=>w?typeof w=="object"?w.answer?w.answer:JSON.stringify(w):String(w):"Not provided",y=w=>{const{data:{13:g,25:m,29:v,23:_,26:S,24:j,19:C,21:P,17:M}}=w;return c.jsxs(qe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white p-6 rounded-xl shadow-sm border border-stone-200 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>a(w),className:"font-medium text-lg hover:text-emerald-600 transition-colors text-left group",children:c.jsxs("span",{className:"group-hover:underline",children:[w.data[4]," ",w.data[5]]})}),c.jsx("p",{className:"text-stone-600",children:w.user_email})]}),c.jsxs("div",{className:"flex gap-2",children:[w.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>h(w.id,"approved"),className:"p-2 rounded-lg bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-colors",children:c.jsx(Uu,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(w.id,"rejected"),className:"p-2 rounded-lg bg-rose-100 text-rose-600 hover:bg-rose-200 transition-colors",children:c.jsx(zu,{className:"w-4 h-4"})})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.status==="pending"?"bg-yellow-100 text-yellow-800":w.status==="approved"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:w.status})]})]}),f(g),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Astrology:"}),c.jsx(Qt,{content:m,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(m)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"MBTI:"}),c.jsx(Qt,{content:v,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(v)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Conspiracy Theory:"}),c.jsx(Qt,{content:_,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(_)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Logic Puzzle:"}),c.jsx(Qt,{content:S,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(S)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Unique Belief:"}),c.jsx(Qt,{content:j,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(j)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Getting to Know People:"}),c.jsx(Qt,{content:C,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(C)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Identity:"}),c.jsx(Qt,{content:P,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(P)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"If we really knew you:"}),c.jsx(Qt,{content:M,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(M)})})]})]})]})};if(n)return c.jsx("div",{className:"flex justify-center items-center p-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})});if(s)return c.jsx("div",{className:"p-6 text-rose-600 bg-rose-50 rounded-lg",children:s});const x=e.filter(w=>w.status===l);return c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex gap-4 mb-6",children:["pending","approved","rejected"].map(w=>c.jsx("button",{onClick:()=>u(w),className:`px-4 py-2 rounded-lg transition-colors ${l===w?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),c.jsx("div",{className:"grid grid-cols-2 gap-6",children:c.jsx(ri,{children:x.map(w=>c.jsx("div",{children:y(w)},w.id))})}),c.jsx(ri,{children:o&&c.jsx(ME,{application:o,onClose:()=>a(null)})})]})}function RE(){const[e,t]=st.useState([]),[n,r]=st.useState(!0),[s,i]=st.useState(null);st.useEffect(()=>{o();const a=A.channel("bookings_channel").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},()=>{o()}).subscribe();return()=>{a.unsubscribe()}},[]);async function o(){try{const{data:{user:a}}=await A.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:l,error:u}=await A.from("bookings").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(u)throw u;const d=await Promise.all((l||[]).map(async h=>{const{data:f}=await A.from("accommodations").select("title, location").eq("id",h.accommodation_id).single(),{data:p}=await A.from("profiles").select("email").eq("id",h.user_id).single();return{...h,accommodation_title:(f==null?void 0:f.title)||"N/A",accommodation_location:(f==null?void 0:f.location)||"N/A",user_email:(p==null?void 0:p.email)||"N/A"}}));t(d)}catch(a){console.error("Error loading bookings:",a),i(a instanceof Error?a.message:"Failed to load bookings")}finally{r(!1)}}return n?c.jsx("div",{className:"flex justify-center items-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):s?c.jsx("div",{className:"text-red-500 text-center",children:s}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accommodation"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.accommodation_title}),c.jsx("div",{className:"text-sm text-gray-500",children:a.accommodation_location})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:a.user_email})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:fe(new Date(a.check_in),"PP")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:fe(new Date(a.check_out),"PP")}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",a.total_price]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a.status==="confirmed"?"bg-green-100 text-green-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})}const T0=1;function kt(e){const t=Xn(new Date(e.toISOString().split("T")[0]+"T00:00:00.000Z"));return mP(t,T0)}function Vp(e){const t=e.getTimezoneOffset();return new Date(e.getTime()+(t+T0*60)*6e4)}function LE({onClose:e,onSuccess:t,accommodations:n}){const[r,s]=b.useState(""),[i,o]=b.useState(),[a,l]=b.useState(""),[u,d]=b.useState(!1),[h,f]=b.useState(null),[p,y]=b.useState(n),[x,w]=b.useState(!1),g=async(_,S)=>{try{w(!0),f(null);const j=kt(_),C=kt(S),[{data:P,error:M},{data:T,error:V}]=await Promise.all([A.from("availability").select("accommodation_id").eq("status","BOOKED").gte("date",j.toISOString().split("T")[0]).lte("date",C.toISOString().split("T")[0]),A.from("availability").select("accommodation_id").eq("status","HOLD").gte("date",j.toISOString().split("T")[0]).lte("date",C.toISOString().split("T")[0])]);if(M)throw M;if(V)throw V;const W=new Set([...(P==null?void 0:P.map(oe=>oe.accommodation_id))||[],...(T==null?void 0:T.map(oe=>oe.accommodation_id))||[]]);l("");const pe=n.filter(oe=>!W.has(oe.id));y(pe)}catch(j){console.error("Error checking availability:",j),f(j instanceof Error?j.message:"Failed to check availability")}finally{w(!1)}},m=_=>{o(_),_!=null&&_.from&&(_!=null&&_.to)?g(_.from,_.to):y(n)},v=async()=>{if(!r||!(i!=null&&i.from)||!(i!=null&&i.to)||!a){f("Please fill in all fields");return}d(!0),f(null);try{const _=n.find(j=>j.id===a);if(!_)throw new Error("Selected accommodation not found");const{error:S}=await A.rpc("create_manual_booking",{p_email:r,p_accommodation_id:a,p_check_in:Vp(i.from).toISOString(),p_check_out:Vp(i.to).toISOString(),p_total_price:_.price});if(S)throw S;t()}catch(_){console.error("Error creating manual booking:",_),f(_ instanceof Error?_.message:"Failed to create booking")}finally{d(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Add Manual Booking"}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:c.jsx(Kt,{className:"w-6 h-6"})})]}),h&&c.jsx("div",{className:"mb-4 p-3 bg-rose-50 text-rose-600 rounded-lg",children:h}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Email"}),c.jsx("input",{type:"email",value:r,onChange:_=>s(_.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"guest@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Dates"}),c.jsx(Hr,{mode:"range",selected:i,onSelect:m,disabled:{before:new Date}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accommodation"}),c.jsxs("select",{value:a,onChange:_=>l(_.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",disabled:!i||x,children:[c.jsx("option",{value:"",children:"Select accommodation"}),p.map(_=>c.jsxs("option",{value:_.id,children:[_.title," - €",_.price]},_.id))]}),x&&c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Checking availability..."}),p.length===0&&!x&&i&&c.jsx("p",{className:"mt-1 text-sm text-rose-600",children:"No accommodations available for selected dates"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),c.jsx("button",{onClick:v,disabled:u||!r||!i||!a,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-gray-300 disabled:cursor-not-allowed",children:u?"Creating...":"Create Booking"})]})]})]})})}function IE(){const[e,t]=b.useState(()=>kt(new Date)),[n,r]=b.useState([]),[s,i]=b.useState({}),[o,a]=b.useState(!0),[l,u]=b.useState(null),[d,h]=b.useState(!1),f=SP({start:Te(e),end:oi(e)}).map(g=>kt(g));b.useEffect(()=>{p();const g=A.channel("availability_changes").on("postgres_changes",{event:"*",schema:"public",table:"availability"},()=>{p()}).subscribe();return()=>{g.unsubscribe()}},[e]);async function p(){try{u(null);const{data:g,error:m}=await A.from("accommodations").select("*").order("title");if(m)throw m;const v=kt(Te(e)),_=kt(oi(e)),{data:S,error:j}=await A.from("availability").select("*").gte("date",v.toISOString().split("T")[0]).lte("date",_.toISOString().split("T")[0]);if(j)throw j;const{data:C,error:P}=await A.from("bookings").select("*").or(`check_in.gte.${v.toISOString()},check_out.lte.${_.toISOString()}`);if(P)throw P;r(g||[]);const M={};S==null||S.forEach(T=>{const V=`${T.accommodation_id}-${kt(new Date(T.date)).toISOString().split("T")[0]}`;M[V]=T.status}),C==null||C.forEach(T=>{const V=`${T.accommodation_id}-${kt(new Date(T.check_in)).toISOString().split("T")[0]}`,W=`${T.accommodation_id}-${kt(new Date(T.check_out)).toISOString().split("T")[0]}`;M[V]="CHECK_IN",M[W]="CHECK_OUT"}),i(M)}catch(g){console.error("Error loading data:",g),u(g instanceof Error?g.message:"Failed to load data")}finally{a(!1)}}const y=async(g,m)=>{try{const v=kt(g),_=`${m.id}-${v.toISOString().split("T")[0]}`,S=s[_]||"AVAILABLE";if(["BOOKED","CHECK_IN","CHECK_OUT"].includes(S))return;const j=S==="AVAILABLE"?"HOLD":"AVAILABLE";i(P=>({...P,[_]:j}));const{error:C}=await A.from("availability").upsert({accommodation_id:m.id,date:v.toISOString().split("T")[0],status:j},{onConflict:"accommodation_id,date"});if(C)throw C}catch(v){console.error("Error updating availability:",v),u(v instanceof Error?v.message:"Failed to update availability"),await p()}},x=g=>{const m="h-8 px-2 text-center text-xs border-r cursor-pointer transition-colors";switch(g){case"CHECK_IN":return`${m} bg-gradient-to-r from-emerald-500 to-black text-white`;case"CHECK_OUT":return`${m} bg-gradient-to-l from-emerald-500 to-black text-white`;case"BOOKED":return`${m} bg-black text-white cursor-not-allowed`;case"HOLD":return`${m} bg-yellow-400`;default:return`${m} bg-emerald-500 text-white`}},w=g=>{switch(g){case"CHECK_IN":return"→";case"CHECK_OUT":return"←";case"BOOKED":return"×";case"HOLD":return"⌛";default:return"✓"}};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l&&c.jsx("div",{className:"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:c.jsx("p",{className:"text-red-700",children:l})}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t(g=>new Date(g.getFullYear(),g.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(WC,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-semibold",children:fe(e,"MMMM yyyy")}),c.jsx("button",{onClick:()=>t(g=>new Date(g.getFullYear(),g.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Zy,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>h(!0),className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:"Add Manual Booking"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),c.jsx("span",{children:"Available"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),c.jsx("span",{children:"Hold"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-black"}),c.jsx("span",{children:"Booked"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-20 h-3 rounded-full bg-gradient-to-r from-emerald-500 to-black"}),c.jsx("span",{children:"Check-in/out"})]})]})]})]}),o?c.jsx("div",{className:"flex justify-center items-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"sticky left-0 bg-gray-50 px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[200px]",children:"Accommodation"}),f.map(g=>c.jsxs("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[32px]",children:[c.jsx("div",{children:fe(g,"d")}),c.jsx("div",{children:fe(g,"EEE")})]},g.toISOString()))]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(g=>c.jsxs("tr",{children:[c.jsx("td",{className:"sticky left-0 bg-white px-4 py-2 whitespace-nowrap border-r",children:c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g.title," (",g.inventory_count,")"]})}),f.map(m=>{const v=`${g.id}-${m.toISOString().split("T")[0]}`,_=s[v]||"AVAILABLE";return c.jsx("td",{className:x(_),onClick:()=>y(m,g),children:w(_)},m.toISOString())})]},g.id))})]})}),d&&c.jsx(LE,{onClose:()=>h(!1),onSuccess:()=>{h(!1),p()},accommodations:n})]})}function FE(){const[e,t]=b.useState("applications");return c.jsx("div",{className:"min-h-screen bg-stone-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-display font-light text-stone-900",children:"Admin Dashboard"}),c.jsx("p",{className:"text-stone-600",children:"Manage applications, bookings, and availability"})]}),c.jsxs("div",{className:"flex gap-4 mb-8",children:[c.jsxs("button",{onClick:()=>t("applications"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e==="applications"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(tP,{className:"w-4 h-4"}),"Applications"]}),c.jsxs("button",{onClick:()=>t("appview"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e==="appview"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(qC,{className:"w-4 h-4"}),"AppView"]}),c.jsxs("button",{onClick:()=>t("bookings"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e==="bookings"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(HC,{className:"w-4 h-4"}),"Bookings"]}),c.jsxs("button",{onClick:()=>t("calendar"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e==="calendar"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(jd,{className:"w-4 h-4"}),"Calendar"]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 shadow-sm",children:[e==="applications"&&c.jsx(AE,{}),e==="appview"&&c.jsx(OE,{}),e==="bookings"&&c.jsx(RE,{}),e==="calendar"&&c.jsx(IE,{})]})]})})}function Bp(){var s;const[e,t]=b.useState("stay"),n=Vd(),r=((s=n==null?void 0:n.user)==null?void 0:s.email)==="andre@thegarden.pt";return c.jsxs("div",{className:"min-h-screen bg-stone-50",children:[c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-stone-200",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-emerald-900 flex items-center gap-3",children:[c.jsx(Cd,{className:"w-8 h-8"}),c.jsx("h1",{className:"text-2xl font-display font-light tracking-wide",children:"The Garden"})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("nav",{className:"flex gap-6",children:[c.jsx("button",{onClick:()=>t("stay"),className:`text-sm font-body transition-colors ${e==="stay"?"text-emerald-900 font-medium":"text-stone-600 hover:text-emerald-900"}`,children:"Stay"}),c.jsx("button",{onClick:()=>t("my-bookings"),className:`text-sm font-body transition-colors ${e==="my-bookings"?"text-emerald-900 font-medium":"text-stone-600 hover:text-emerald-900"}`,children:"My Bookings"}),r&&c.jsx("button",{onClick:()=>t("admin"),className:`text-sm font-body transition-colors ${e==="admin"?"text-emerald-900 font-medium":"text-stone-600 hover:text-emerald-900"}`,children:"Admin"})]}),c.jsx("span",{className:"text-stone-600 font-body text-sm",children:n==null?void 0:n.user.email}),c.jsx("button",{onClick:()=>A.auth.signOut(),className:"bg-emerald-900 text-white px-6 py-2 rounded-full hover:bg-emerald-800 transition-colors text-sm font-body",children:"Sign Out"})]})]})})}),c.jsxs("main",{className:"relative",children:[e==="stay"&&c.jsx(EE,{}),e==="my-bookings"&&c.jsx(BN,{}),e==="admin"&&r&&c.jsx(FE,{})]})]})}class hs extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[c.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-4",children:"Something went wrong"}),c.jsx("p",{className:"text-stone-600 mb-4",children:"We're having trouble connecting to our servers. Please try:"}),c.jsxs("ul",{className:"list-disc list-inside text-stone-600 mb-6 space-y-2",children:[c.jsx("li",{children:"Refreshing the page"}),c.jsx("li",{children:"Checking your internet connection"}),c.jsx("li",{children:"Trying again in a few minutes"})]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-emerald-900 text-white py-2 px-4 rounded-lg hover:bg-emerald-800 transition-colors",children:"Refresh Page"})]})}):this.props.children}}var E0="https://js.stripe.com/v3",$E=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Up="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",VE=function(){for(var t=document.querySelectorAll('script[src^="'.concat(E0,'"]')),n=0;n<t.length;n++){var r=t[n];if($E.test(r.src))return r}return null},zp=function(t){var n="",r=document.createElement("script");r.src="".concat(E0).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},BE=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},fs=null,Xi=null,Ji=null,UE=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},zE=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},WE=function(t){return fs!==null?fs:(fs=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Up),window.Stripe){n(window.Stripe);return}try{var s=VE();if(s&&t)console.warn(Up);else if(!s)s=zp(t);else if(s&&Ji!==null&&Xi!==null){var i;s.removeEventListener("load",Ji),s.removeEventListener("error",Xi),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=zp(t)}Ji=zE(n,r),Xi=UE(r),s.addEventListener("load",Ji),s.addEventListener("error",Xi)}catch(o){r(o);return}}),fs.catch(function(n){return fs=null,Promise.reject(n)}))},HE=function(t,n,r){if(t===null)return null;var s=t.apply(void 0,n);return BE(s,r),s},ps,D0=!1,A0=function(){return ps||(ps=WE(null).catch(function(t){return ps=null,Promise.reject(t)}),ps)};Promise.resolve().then(function(){return A0()}).catch(function(e){D0||console.warn(e)});var YE=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];D0=!0;var s=Date.now();return A0().then(function(i){return HE(i,n,s)})};const KE=b.createContext({isReady:!1}),GE=YE("pk_live_51KRJB4Gi5eXNGIkHhMGff7jQ8QGHbyk93UyQkK1IsjtYWFCYuLIKpJqiThkmhbHq5G0IhjoUvtfuFpD3Vo0xXMMK00ZoyckXfF");function Wp({children:e}){return GE?c.jsx(KE.Provider,{value:{isReady:!0},children:e}):c.jsx("div",{children:"Loading Stripe..."})}function qE(){var s,i;const e=Vd(),t=async()=>{await A.auth.signInWithPassword({email:"andre@thegarden.pt",password:"123123"})};if(!e)return c.jsxs(hs,{children:[c.jsx("button",{onClick:t,className:"fixed top-0 left-0 w-[50px] h-[50px] opacity-0 z-50 cursor-default","aria-hidden":"true"}),c.jsx(rP,{})]});if(e.user.email==="andre@thegarden.pt")return c.jsx(hs,{children:c.jsx(Wp,{children:c.jsx(Bp,{})})});const r=(s=e.user.user_metadata)==null?void 0:s.application_status;return r==="approved"?c.jsx(hs,{children:c.jsx(Wp,{children:c.jsx(Bp,{})})}):(i=e.user.user_metadata)!=null&&i.has_applied?c.jsx(hs,{children:c.jsx(cP,{status:r})}):c.jsx(hs,{children:c.jsx(uP,{})})}rv(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(qE,{})}));export{M0 as g};
